(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1991],{57071:function(e,t,s){Promise.resolve().then(s.bind(s,9402))},9402:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=s(57437),a=s(2265),n=s(66070),i=s(95186),l=s(26815),o=s(62869),c=s(76818),d=s(74928),u=s(69076),f=s(66901),m=s(40875),h=s(77992),p=s(7211),x=s(12199),g=s(27689);function v(){let[e,t]=(0,a.useState)({}),[s,v]=(0,a.useState)({}),[j,b]=(0,a.useState)(""),[y,N]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1),[k,T]=(0,a.useState)(!1),[C,_]=(0,a.useState)(null),{toast:O}=(0,h.pm)(),{data:E,loading:I,refetch:A}=(0,p.aM)(g.OP),[R]=(0,x.D)(g.Ep),[D]=(0,x.D)(g.fA);(0,a.useEffect)(()=>{var r,a,n;if(null==E?void 0:null===(r=E.platform_configurationsPagination)||void 0===r?void 0:r.items){let r=E.platform_configurationsPagination.items.find(e=>"theme_config"===e.config_key);r&&(_(r.id),(null===(a=r.config_value)||void 0===a?void 0:a.light)&&t({...e,...r.config_value.light}),(null===(n=r.config_value)||void 0===n?void 0:n.dark)&&v({...s,...r.config_value.dark}))}},[E]);let F=(s,r)=>{t({...e,[s]:r})},Z=(e,t)=>{v({...s,[e]:t})},P=e=>{let t={},s={},r=e.match(RegExp(":root\\s*\\{([^}]+)\\}","s"));if(r){let e=r[1].match(/--[\w-]+:\s*[^;]+/g);e&&e.forEach(e=>{let[s,...r]=e.split(":"),a=r.join(":").trim();t[s.trim()]=a})}let a=e.match(RegExp("\\.dark\\s*\\{([^}]+)\\}","s"));if(a){let e=a[1].match(/--[\w-]+:\s*[^;]+/g);e&&e.forEach(e=>{let[t,...r]=e.split(":"),a=r.join(":").trim();s[t.trim()]=a})}return{light:t,dark:s}},M=async()=>{try{let n={config_key:"theme_config",config_value:{light:e,dark:s},description:"Platform theme configuration"};if(C)await D({variables:{id:C,data:n}});else{var t,r,a;let e=await R({variables:{data:n}});_(null===(a=e.data)||void 0===a?void 0:null===(r=a.platform_configurationsCreateOne)||void 0===r?void 0:null===(t=r.item)||void 0===t?void 0:t.id)}await A(),O({title:"Configuration saved",description:"Theme configuration has been saved successfully.",duration:3e3})}catch(e){console.error("Error saving configuration:",e),O({title:"Error",description:"Failed to save configuration. Please try again.",duration:3e3,variant:"destructive"})}};return(0,r.jsxs)("div",{className:"h-full flex-1 flex-col space-y-8 p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"IMP Configurations"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage platform-wide theme variables and styling."})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(o.z,{onClick:()=>{t({}),v({}),O({title:"Theme reset",description:"Both themes have been reset to default (empty).",duration:3e3})},variant:"outline",children:[(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Reset Theme"]}),(0,r.jsx)(o.z,{onClick:M,children:"Save Configuration"})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsx)(n.ll,{children:"Import Theme CSS"}),(0,r.jsx)(n.SZ,{children:"Paste your CSS theme code below to automatically populate all fields"})]}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsx)(c.g,{placeholder:"Paste your CSS theme here (including :root and .dark blocks)...",value:j,onChange:e=>b(e.target.value),className:"font-mono text-xs min-h-[200px]"}),(0,r.jsx)(o.z,{onClick:()=>{T(!0);let r=P(j);setTimeout(()=>{Object.keys(r.light).length>0&&(t({...e,...r.light}),N(!0)),Object.keys(r.dark).length>0&&(v({...s,...r.dark}),S(!0)),b(""),T(!1),O({title:"Theme imported successfully!",description:"Updated ".concat(Object.keys(r.light).length+Object.keys(r.dark).length," variables."),duration:3e3})},500)},disabled:!j.trim()||k,className:"relative",children:k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"opacity-0",children:"Import Theme"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"})})]}):"Import Theme"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(d.zF,{open:y,onOpenChange:N,children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(d.wy,{asChild:!0,children:(0,r.jsx)(n.Ol,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:["Light Theme Variables",Object.keys(e).length>0&&(0,r.jsx)(f.Z,{className:"h-4 w-4 text-primary"})]}),(0,r.jsx)(n.SZ,{children:"Configure CSS variables for the light theme"})]}),(0,r.jsx)(m.Z,{className:"h-5 w-5 transition-transform ".concat(y?"rotate-180":"")})]})})}),(0,r.jsx)(d.Fw,{children:(0,r.jsx)(n.aY,{className:"grid gap-4 md:grid-cols-2 pt-0",children:Object.entries(e).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"light-".concat(t),className:"text-xs font-mono",children:t}),(0,r.jsx)(i.I,{id:"light-".concat(t),value:s,onChange:e=>F(t,e.target.value),className:"font-mono text-xs"})]},t)})})})]})}),(0,r.jsx)(d.zF,{open:w,onOpenChange:S,children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(d.wy,{asChild:!0,children:(0,r.jsx)(n.Ol,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:["Dark Theme Variables",Object.keys(s).length>0&&(0,r.jsx)(f.Z,{className:"h-4 w-4 text-primary"})]}),(0,r.jsx)(n.SZ,{children:"Configure CSS variables for the dark theme"})]}),(0,r.jsx)(m.Z,{className:"h-5 w-5 transition-transform ".concat(w?"rotate-180":"")})]})})}),(0,r.jsx)(d.Fw,{children:(0,r.jsx)(n.aY,{className:"grid gap-4 md:grid-cols-2 pt-0",children:Object.entries(s).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"dark-".concat(t),className:"text-xs font-mono",children:t}),(0,r.jsx)(i.I,{id:"dark-".concat(t),value:s,onChange:e=>Z(t,e.target.value),className:"font-mono text-xs"})]},t)})})})]})})]})]})}},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var r=s(57437),a=s(2265),n=s(94508);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},74928:function(e,t,s){"use strict";s.d(t,{Fw:function(){return i},wy:function(){return n},zF:function(){return a}});var r=s(88985);let a=r.fC,n=r.wy,i=r.Fw},95186:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(57437),a=s(2265),n=s(94508);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return c}});var r=s(57437),a=s(6394),n=s(90535),i=s(2265),l=s(94508);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,l.cn)(o(),s),...n})});c.displayName=a.f.displayName},76818:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var r=s(57437),a=s(2265),n=s(94508);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});i.displayName="Textarea"},77992:function(e,t,s){"use strict";s.d(t,{Am:function(){return u},pm:function(){return f}});var r=s(2265);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=r.useState(c);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[9851,7629,7093,6148,847,1942,513,6373,2971,2117,1744],function(){return e(e.s=57071)}),_N_E=e.O()}]);
//# sourceMappingURL=page-3aa96486933ae5dd.js.map