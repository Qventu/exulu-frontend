{"version":3,"file":"static/chunks/app/(application)/chat/layout-b934ba4c0a125683.js","mappings":"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","sources":["webpack://_N_E/?9efc","webpack://_N_E/./app/(application)/chat/[agent]/chat-sessions.tsx","webpack://_N_E/./components/agent-nav.tsx","webpack://_N_E/./app/(application)/chat/layout.tsx","webpack://_N_E/./components/truncated-text.tsx","webpack://_N_E/./components/ui/use-toast.ts","webpack://_N_E/./lib/check-chat-session-write-access.ts","webpack://_N_E/../../../src/icons/chevron-left.ts","webpack://_N_E/../../../src/icons/image.ts","webpack://_N_E/../../../src/icons/info.ts","webpack://_N_E/../../../src/icons/plus.ts","webpack://_N_E/../../../src/icons/search.ts","webpack://_N_E/../../../src/icons/shield.ts","webpack://_N_E/../../../src/icons/star.ts","webpack://_N_E/../../../src/icons/text.ts","webpack://_N_E/../../../src/icons/video.ts","webpack://_N_E/../../../src/icons/volume-2.ts","webpack://_N_E/../../../src/icons/wrench.ts","webpack://_N_E/./node_modules/@apollo/client/react/hooks/internal/useIsomorphicLayoutEffect.js","webpack://_N_E/./node_modules/@apollo/client/react/hooks/useMutation.js"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/chat/layout.tsx\");\n","\"use client\"\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { DotsHorizontalIcon } from \"@radix-ui/react-icons\";\nimport { formatDistanceToNow } from \"date-fns/formatDistanceToNow\";\nimport { PlusIcon, Search } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"@/app/(application)/authenticated\";\nimport { Agent } from \"@EXULU_SHARED/models/agent\";\nimport { AgentSession } from \"@EXULU_SHARED/models/agent-session\";\nimport {\n  CREATE_AGENT_SESSION,\n  GET_AGENT_SESSIONS,\n  REMOVE_AGENT_SESSION_BY_ID,\n  UPDATE_AGENT_SESSION_TITLE,\n} from \"@/queries/queries\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { useToast } from \"@/components/ui/use-toast\";\nimport { cn } from \"@/lib/utils\";\nimport { usePathname } from \"next/navigation\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport Link from \"next/link\";\nimport { checkChatSessionWriteAccess } from \"@/lib/check-chat-session-write-access\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport function ChatSessionsComponent({ agent, type }: { agent: string, type: string }) {\n\n  const pathname = usePathname();\n  const { toast } = useToast();\n  const { user } = useContext(UserContext);\n  const [sessionName, setSessionName] = useState(\"\");\n  const isMobile = useIsMobile();\n  const router = useRouter();\n  let [search, setSearch]: any = useState({ searchString: null });\n  const [renameDialogOpen, setRenameDialogOpen] = useState(false);\n  const [renameSessionId, setRenameSessionId] = useState<string | null>(null);\n  const [newSessionName, setNewSessionName] = useState(\"\");\n\n  const sessionsQuery = useQuery(GET_AGENT_SESSIONS, {\n    returnPartialData: true,\n    fetchPolicy: \"network-only\",\n    nextFetchPolicy: \"network-only\",\n    variables: {\n      page: 1,\n      limit: 40,\n      filters: {\n        agent: {\n          eq: agent\n        }\n      }\n    },\n  });\n\n  const [removeSession, removeSessionResult] = useMutation(\n    REMOVE_AGENT_SESSION_BY_ID,\n    {\n      refetchQueries: [\n        GET_AGENT_SESSIONS,\n        \"GetAgentSessions\",\n      ],\n    },\n  );\n\n  const [createAgentSession, createAgentSessionResult] = useMutation(\n    CREATE_AGENT_SESSION,\n  );\n\n  const [updateSessionTitle, updateSessionTitleResult] = useMutation(\n    UPDATE_AGENT_SESSION_TITLE,\n    {\n      refetchQueries: [\n        GET_AGENT_SESSIONS,\n        \"GetAgentSessions\",\n      ],\n    },\n  );\n\n  useEffect(() => {\n    let variables: any = {\n      page: 1,\n      limit: 40,\n    };\n    if (search && search?.length > 2) {\n      variables.filters = { agent: { eq: agent }, title: { contains: search } };\n    } else {\n      variables.filters = { agent: { eq: agent } };\n    }\n    sessionsQuery.refetch(variables);\n  }, [search]);\n\n  const handleCreateSession = async () => {\n    const newSession = await createAgentSession({\n      variables: {\n        user: user.id,\n        agent: agent,\n        type: \"FLOW\",\n        title: sessionName.trim(),\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n      },\n    });\n    if (newSession.errors) {\n      console.error(\"error\", newSession.errors);\n      return;\n    }\n    if (\n      !newSession.data?.agent_sessionsCreateOne?.item?.id\n    ) {\n      console.error(\"error\", \"failed to create session\");\n      return;\n    }\n    setSessionName(\"\");\n    sessionsQuery.refetch();\n    router.push(\n      `/chat/${agent}/${newSession.data?.agent_sessionsCreateOne?.item?.id}`,\n    );\n  }\n\n  const handleRenameSession = async () => {\n    if (!renameSessionId || !newSessionName.trim()) return;\n\n    const result = await updateSessionTitle({\n      variables: {\n        id: renameSessionId,\n        title: newSessionName.trim(),\n      },\n    });\n\n    if (result.errors) {\n      console.error(\"error\", result.errors);\n      toast({\n        title: \"Error\",\n        description: \"Failed to rename session.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    toast({\n      title: \"Session renamed\",\n      description: \"The session has been renamed successfully.\",\n    });\n\n    setRenameDialogOpen(false);\n    setRenameSessionId(null);\n    setNewSessionName(\"\");\n  }\n\n  return (\n    <div\n      key={agent + type}\n      className=\"relative hidden flex-col items-start md:flex h-100 overflow-y-scroll border-r\"\n      x-chunk=\"dashboard-03-chunk-0\">\n      <h2 className=\"mb-2 px-4 text-lg font-semibold tracking-tight\">Sessions</h2>\n\n      <div className=\"bg-background/95 w-full backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <form>\n          <div className=\"relative\">\n            <Search className=\"absolute left-2 top-2.5 size-4 text-muted-foreground\" />\n            <Input\n              onKeyUp={(e) => {\n                const searchString = e.currentTarget.value;\n                setSearch(searchString);\n              }}\n              placeholder=\"Search sessions\"\n              className=\"pl-8 border-0\"\n            />\n          </div>\n        </form>\n      </div>\n\n      <div className=\"flex w-full items-center gap-2 p-3 border-t justify-between\">\n        <Input\n          autoFocus={true}\n          value={sessionName}\n          onChange={(e) => setSessionName(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              handleCreateSession();\n            }\n          }}\n          placeholder=\"Name\"\n          className=\"flex-1\"\n        />\n        <Button\n          variant=\"secondary\"\n          tabIndex={1}\n          disabled={createAgentSessionResult.loading || !sessionName.trim()}\n          onClick={async () => {\n            // create a new session\n            handleCreateSession();\n          }}\n        >\n          <div className=\"font-semibold\">\n            <PlusIcon />\n          </div>\n        </Button>\n      </div>\n      {sessionsQuery.loading && (\n        <div className=\"w-full flex flex-col p-2 pt-0 pb-2\">\n          <Skeleton className=\"w-full rounded h-[70px] rounded-md\" />\n          <Skeleton className=\"w-full rounded h-[70px] rounded-md mt-3\" />\n          <Skeleton className=\"w-full rounded h-[70px] rounded-md mt-3\" />\n          <Skeleton className=\"w-full rounded h-[70px] rounded-md mt-3\" />\n        </div>\n      )}\n\n      {!sessionsQuery.loading && !sessionsQuery?.data?.agent_sessionsPagination?.items?.length && (\n        <div className=\"w-full flex\">\n          <p className=\"mx-auto mt-5\">No sessions found.</p>\n        </div>\n      )}\n\n      {!sessionsQuery.loading\n        ? sessionsQuery?.data?.agent_sessionsPagination?.items?.map(\n          (\n            item: Omit<AgentSession, \"agent\"> & {\n              agent: Agent;\n            },\n          ) => {\n\n            const writeAccess = checkChatSessionWriteAccess({\n              ...item,\n              agent: item.agent.id\n            }, user);\n\n            return (\n              <div key={item.id} className={`w-full px-2 flex flex-col items-start gap-0 rounded-none border-none text-left text-sm mb-2`}>\n                <Link\n                  key={item.id}\n                  href={`/chat/${agent}/${item.id}`}\n                  className={cn(\n                    `p-2 w-full flex flex-col items-start gap-2 rounded-md p-3 text-left text-sm transition-all hover:bg-accent`,\n                    pathname.includes(item.id) && \"bg-muted\",\n                    writeAccess ? \"border border-l-4 border-r-0 border-y-0 border-gray-700\" : \"border border-l-4 border-r-0 border-y-0 border-yellow-900\",\n                  )}\n                >\n                  <div className=\"flex w-full flex-col px-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex flex-col gap-2\">\n                        <div className=\"text-md font-medium max-w-[80%] truncate\">\n                          {item.title\n                            ? item.title?.substring(0, 20)\n                            : \"No title\"}\n                        </div>\n\n                        <div\n                          className={cn(\n                            \"ml-0 text-xs capitalize\",\n                            pathname.includes(item.id)\n                              ? \"text-foreground\"\n                              : \"text-muted-foreground\",\n                          )}\n                        >\n                          {item.updatedAt\n                            ? formatDistanceToNow(\n                              new Date(item.updatedAt),\n                              {\n                                addSuffix: true,\n                              },\n                            )\n                            : null}.\n                        </div>\n                      </div>\n\n                      {writeAccess && (\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button\n                              variant=\"ghost\"\n                              className=\"flex size-8 p-0 data-[state=open]:bg-muted\"\n                            >\n                              <DotsHorizontalIcon className=\"size-4\" />\n                              <span className=\"sr-only\">Open menu</span>\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent\n                            align=\"end\"\n                            className=\"w-[160px]\">\n                            <DropdownMenuItem\n                              className=\"cursor-pointer\"\n                              onClick={(e) => {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                setRenameSessionId(item.id);\n                                setNewSessionName(item.title || \"\");\n                                setRenameDialogOpen(true);\n                              }}>\n                              Rename\n                            </DropdownMenuItem>\n                            <DropdownMenuItem\n                              className=\"cursor-pointer\"\n                              onClick={() => {\n                                removeSession({\n                                  variables: {\n                                    id: item.id,\n                                  },\n                                });\n                                toast({\n                                  title: \"Deleting session\",\n                                  description: \"We deleted the session.\",\n                                });\n                              }}>\n                              Delete\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      )}\n                    </div>\n                    <small className=\"text-xs text-muted-foreground\">\n                      {item.agent?.name}\n                    </small>\n                  </div>\n                </Link>\n              </div>\n            )\n          },\n        )\n        : null}\n\n      <Dialog open={renameDialogOpen} onOpenChange={setRenameDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Rename Session</DialogTitle>\n            <DialogDescription>\n              Enter a new name for this session.\n            </DialogDescription>\n          </DialogHeader>\n          <Input\n            value={newSessionName}\n            onChange={(e) => setNewSessionName(e.target.value)}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") {\n                handleRenameSession();\n              }\n            }}\n            placeholder=\"Session name\"\n          />\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setRenameDialogOpen(false);\n                setRenameSessionId(null);\n                setNewSessionName(\"\");\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleRenameSession}\n              disabled={updateSessionTitleResult.loading || !newSessionName.trim()}\n            >\n              Rename\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import Link from \"next/link\"\nimport { ChevronLeft, Info, Search, Star } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { GET_AGENTS, GET_AGENTS_BY_IDS, UPDATE_USER_BY_ID } from \"@/queries/queries\";\nimport { Agent } from \"@EXULU_SHARED/models/agent\";\nimport * as React from \"react\";\nimport { TruncatedText } from \"./truncated-text\";\nimport { useParams, usePathname } from \"next/navigation\";\nimport { Skeleton } from \"./ui/skeleton\";\nimport { AgentDetailsSheet } from \"@/app/(application)/agents/components/agent-details-sheet\";\nimport { UserContext } from \"@/app/(application)/authenticated\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { User } from \"@/types/models/user\";\nimport { ChatSessionsComponent } from \"@/app/(application)/chat/[agent]/chat-sessions\";\n\nexport function AgentNav() {\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n  const [selectedAgentId, setSelectedAgentId] = React.useState<string | null>(null);\n  const [sheetOpen, setSheetOpen] = React.useState(false);\n  const [showAllFavorites, setShowAllFavorites] = React.useState(false);\n  const [showAllAgents, setShowAllAgents] = React.useState(false);\n  const params = useParams();\n  const pathname = usePathname();\n  const { user: init } = useContext(UserContext);\n  const [user, setUser] = useState<User>(init);\n\n  // Fetch favourite agents using GET_AGENTS_BY_IDS\n  const favouriteAgents = useQuery(GET_AGENTS_BY_IDS, {\n    fetchPolicy: \"no-cache\",\n    nextFetchPolicy: \"network-only\",\n    variables: {\n      ids: user?.favourite_agents || []\n    },\n    skip: !user?.favourite_agents?.length,\n  });\n\n  // Fetch regular agents (excluding favourites when not searching)\n  const agents = useQuery(GET_AGENTS, {\n    fetchPolicy: \"no-cache\",\n    nextFetchPolicy: \"network-only\",\n    variables: {\n      page: 1,\n      limit: 200,\n      filters: {\n        ...(user?.super_admin ? {} : {\n          active: true\n        }),\n        ...(searchQuery ? {\n          name: {\n            contains: searchQuery\n          }\n        } : {})\n      },\n    },\n  });\n\n  const [updateUser] = useMutation(UPDATE_USER_BY_ID, {\n    onCompleted: (data) => {\n      setUser({ ...user, favourite_agents: data.usersUpdateOneById?.item?.favourite_agents });\n    },\n  });\n\n  const handleInfoClick = (agentId: string, event: React.MouseEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setSelectedAgentId(agentId);\n    setSheetOpen(true);\n  };\n\n  const handleFavouriteToggle = (agentId: string, event: React.MouseEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    console.log(\"user\", user);\n    const currentFavourites = user?.favourite_agents || [];\n    const isFavourite = currentFavourites.includes(agentId);\n\n    let newFavourites: string[];\n    if (isFavourite) {\n      newFavourites = currentFavourites.filter((id: string) => id !== agentId);\n    } else {\n      newFavourites = [...currentFavourites, agentId];\n    }\n\n    console.log(\"newFavourites\", newFavourites);\n\n    updateUser({\n      variables: {\n        id: user.id,\n        favourite_agents: newFavourites\n      }\n    });\n  };\n\n  // Check if an agent is currently selected\n  const selectedAgent = params.agent ? agents?.data?.agentsPagination?.items?.find(\n    (agent: Agent) => agent.id === params.agent\n  ) : null;\n\n  const renderAgentImage = (agent: Agent) => {\n    if (agent.image) {\n      return (\n        <img\n          src={agent.image}\n          alt={`${agent.name} profile`}\n          className=\"h-4 w-4 rounded-full object-cover\"\n        />\n      );\n    } else {\n      return (\n        <div className=\"h-4 w-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-medium\">\n          {agent.name?.charAt(0).toUpperCase() || 'A'}\n        </div>\n      );\n    }\n  };\n\n  useEffect(() => {\n    setShowAllAgents(false)\n    setShowAllFavorites(false)\n  }, [params.agent]);\n\n  return (\n    <>\n      <div className=\"pb-12 w-[250px]\">\n        <div className=\"space-y-4 py-4\">\n          <div>\n            <h2 className=\"mb-2 px-4 text-lg font-semibold tracking-tight\">Agents</h2>\n            <div>\n              <div className=\"relative\">\n                <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search agents...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-8 h-9 border-0\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-1 border-t px-2 pt-2\">\n              {\n                (selectedAgent && !showAllAgents) && (\n                  <div key={`fav-${selectedAgent.id}`} className=\"flex items-center gap-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-8 w-8 p-0 flex-shrink-0\"\n                      onClick={() => setShowAllAgents(!showAllAgents)}\n                    >\n                      <ChevronLeft className=\"h-3 w-3\" />\n                    </Button>\n                    <Link onClick={() => setShowAllAgents(false)} href={`/chat/${selectedAgent.id}`} className=\"flex-1\">\n                      <Button\n                        onClick={() => setShowAllAgents(false)}\n                        variant={pathname.includes(selectedAgent.id) ? \"secondary\" : \"ghost\"}\n                        className=\"w-full justify-start gap-2 pr-5\">\n                        {renderAgentImage(selectedAgent)}\n                        <span className=\"flex-1 text-left\">\n                          <TruncatedText text={selectedAgent.name} length={7} />\n                        </span>\n                      </Button>\n                    </Link>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-8 w-8 p-0 flex-shrink-0\"\n                      onClick={(e) => handleFavouriteToggle(selectedAgent.id, e)}\n                    >\n                      <Star className=\"h-3 w-3 fill-yellow-400 text-yellow-400\" />\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-8 w-8 p-0 flex-shrink-0\"\n                      onClick={(e) => handleInfoClick(selectedAgent.id, e)}\n                    >\n                      <Info className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n                )\n              }\n              {\n                (!selectedAgent || showAllAgents || searchQuery) && (\n                  <>\n                    {user?.favourite_agents && user?.favourite_agents?.length > 0 && !searchQuery && (\n                      <>\n                        {favouriteAgents.loading && (\n                          <>\n                            <Skeleton className=\"w-[100%] h-[32px] rounded-lg\" />\n                            <Skeleton className=\"w-[100%] h-[32px] rounded-lg\" />\n                          </>\n                        )}\n                        {!favouriteAgents.loading && (() => {\n                          const favoriteAgentsList = favouriteAgents?.data?.agentByIds || [];\n                          const displayedFavorites = showAllFavorites ? favoriteAgentsList : favoriteAgentsList.slice(0, 4);\n\n                          return (\n                            <>\n                              {displayedFavorites.map((agent: Agent) => (\n                                <div key={`fav-${agent.id}`} className=\"flex items-center gap-1\">\n                                  <Link href={`/chat/${agent.id}`} className=\"flex-1\">\n                                    <Button\n                                      variant={pathname.includes(agent.id) ? \"secondary\" : \"ghost\"}\n                                      className=\"w-full justify-start gap-2 pr-1\">\n                                      {renderAgentImage(agent)}\n                                      <span className=\"flex-1 text-left\">\n                                        <TruncatedText text={agent.name} length={10} />\n                                      </span>\n                                    </Button>\n                                  </Link>\n                                  <Button\n                                    variant=\"ghost\"\n                                    size=\"sm\"\n                                    className=\"h-8 w-8 p-0 flex-shrink-0\"\n                                    onClick={(e) => handleFavouriteToggle(agent.id, e)}\n                                  >\n                                    <Star className=\"h-3 w-3 fill-yellow-400 text-yellow-400\" />\n                                  </Button>\n                                  <Button\n                                    variant=\"ghost\"\n                                    size=\"sm\"\n                                    className=\"h-8 w-8 p-0 flex-shrink-0\"\n                                    onClick={(e) => handleInfoClick(agent.id, e)}\n                                  >\n                                    <Info className=\"h-3 w-3\" />\n                                  </Button>\n                                </div>\n                              ))}\n                              {favoriteAgentsList.length > 4 && (\n                                <Button\n                                  variant=\"ghost\"\n                                  className=\"w-full justify-center text-xs text-muted-foreground h-8\"\n                                  onClick={() => setShowAllFavorites(!showAllFavorites)}\n                                >\n                                  {showAllFavorites\n                                    ? 'Show less'\n                                    : `Show more (${favoriteAgentsList.length - 4})`\n                                  }\n                                </Button>\n                              )}\n                            </>\n                          );\n                        })()}\n                      </>\n                    )}\n\n                    {/* Regular Agents */}\n                    {agents.loading && <>\n                      <Skeleton className=\"w-[100%] h-[32px] rounded-lg\" />\n                      <Skeleton className=\"w-[100%] h-[32px] rounded-lg\" />\n                      <Skeleton className=\"w-[100%] h-[32px] rounded-lg\" />\n                      <Skeleton className=\"w-[100%] h-[32px] rounded-lg\" />\n                      <Skeleton className=\"w-[100%] h-[32px] rounded-lg\" />\n                    </>}\n                    {!agents.loading && (() => {\n                      const regularAgentsList = agents?.data?.agentsPagination?.items\n                        ?.filter((agent: Agent) => !user?.favourite_agents?.includes(agent.id) || searchQuery) || [];\n                      const displayedAgents = (searchQuery || showAllAgents) ? regularAgentsList : regularAgentsList.slice(0, 4);\n\n                      return (\n                        <>\n                          {displayedAgents.map((agent: Agent) => (\n                            <div key={agent.id} className=\"flex items-center gap-1\">\n                              <Link href={`/chat/${agent.id}`} className=\"flex-1\">\n                                <Button\n                                  variant={pathname.includes(agent.id) ? \"secondary\" : \"ghost\"}\n                                  className=\"w-full justify-start gap-2 pr-1\">\n                                  {renderAgentImage(agent)}\n                                  <span className=\"flex-1 text-left\">\n                                    <TruncatedText text={agent.name} length={14} />\n                                  </span>\n                                </Button>\n                              </Link>\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                className=\"h-8 w-8 p-0 flex-shrink-0\"\n                                onClick={(e) => handleFavouriteToggle(agent.id, e)}\n                              >\n                                <Star className={`h-3 w-3 ${user?.favourite_agents?.includes(agent.id) ? 'fill-yellow-400 text-yellow-400' : ''}`} />\n                              </Button>\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                className=\"h-8 w-8 p-0 flex-shrink-0\"\n                                onClick={(e) => handleInfoClick(agent.id, e)}\n                              >\n                                <Info className=\"h-3 w-3\" />\n                              </Button>\n                            </div>\n                          ))}\n                          {!searchQuery && regularAgentsList.length > 4 && (\n                            <Button\n                              variant=\"ghost\"\n                              className=\"w-full justify-center text-xs text-muted-foreground h-8\"\n                              onClick={() => setShowAllAgents(!showAllAgents)}\n                            >\n                              {showAllAgents\n                                ? 'Show less'\n                                : `Show more (${regularAgentsList.length - 4})`\n                              }\n                            </Button>\n                          )}\n                        </>\n                      );\n                    })()}\n                  </>\n                )}\n            </div>\n          </div>\n          {/*<div className=\"px-3 py-2\">\n          <h2 className=\"mb-2 px-4 text-lg font-semibold tracking-tight\">Settings</h2>\n          <div className=\"space-y-1\">\n            <Link href=\"/settings\">\n              <Button variant=\"ghost\" className=\"w-full justify-start gap-2\">\n                <Settings className=\"h-4 w-4\" />\n                Settings\n              </Button>\n            </Link>\n          </div>\n        </div>*/}\n        </div>\n        {\n          params.agent && (\n            <ChatSessionsComponent agent={params.agent as string} type={\"chat\"} />\n          )\n        }\n      </div>\n\n      {selectedAgentId && (\n        <AgentDetailsSheet\n          agentId={selectedAgentId}\n          open={sheetOpen}\n          onOpenChange={(open) => {\n            setSheetOpen(open);\n            if (!open) {\n              setSelectedAgentId(null);\n            }\n          }}\n        />\n      )}\n    </>\n  )\n}\n\n","\"use client\";\n\nimport {AgentNav} from \"@/components/agent-nav\";\nimport * as React from \"react\";\n\nexport default function ChatLayout({ children }: { children: React.ReactNode }) {\n    return (\n        <div className=\"flex h-full\">\n            <div className=\"border-r bg-muted/10\">\n                <AgentNav/>\n            </div>\n            {children}\n        </div>\n    );\n}\n","export function TruncatedText({ text, length }: { text: string, length: number }) {\n    if (text.length > length) {\n        return <>{text.slice(0, length)}...</>\n    } else {\n        return <>{text}</>;\n    }\n}","\"use client\";\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, \"id\">;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };\n","import { AgentSession } from \"@/types/models/agent-session\";\nimport { UserWithRole } from \"@/types/models/user\";\n\nexport const checkChatSessionWriteAccess = (session: AgentSession, user: UserWithRole) => {\n    const isPrivate = session.rights_mode === 'private';\n    const isPublic = session.rights_mode === 'public';\n    const byUsers = session.rights_mode === 'users';\n    const byRoles = session.rights_mode === 'roles';\n    const isAdmin = user.super_admin;\n    const isCreator = session.created_by === user.id.toString();\n  \n    let writeAccess = false;\n    if (isPrivate && isCreator) {\n      writeAccess = true;\n    }\n    if (isPublic) {\n      writeAccess = true;\n    }\n    if (byUsers) {\n      writeAccess = session.RBAC?.users?.find(u => u.id === user.id)?.rights === 'write';\n    }\n    if (byRoles) {\n      writeAccess = session.RBAC?.roles?.find(r => r.id === user.role?.id)?.rights === 'write';\n    }\n    if (isAdmin) {\n      writeAccess = true;\n    }\n    return writeAccess;\n}","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('Image', [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n]);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('Info', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n]);\n\nexport default Info;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJzOC00IDgtMTBWNWwtOC0zLTggM3Y3YzAgNiA4IDEwIDggMTAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  ['path', { d: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10', key: '1irkt0' }],\n]);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjEyIDIgMTUuMDkgOC4yNiAyMiA5LjI3IDE3IDE0LjE0IDE4LjE4IDIxLjAyIDEyIDE3Ljc3IDUuODIgMjEuMDIgNyAxNC4xNCAyIDkuMjcgOC45MSA4LjI2IDEyIDIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('Star', [\n  [\n    'polygon',\n    {\n      points:\n        '12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2',\n      key: '8f66p6',\n    },\n  ],\n]);\n\nexport default Star;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Text\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTcgNi4xSDMiIC8+CiAgPHBhdGggZD0iTTIxIDEyLjFIMyIgLz4KICA8cGF0aCBkPSJNMTUuMSAxOEgzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Text = createLucideIcon('Text', [\n  ['path', { d: 'M17 6.1H3', key: 'wptmhv' }],\n  ['path', { d: 'M21 12.1H3', key: '1j38uz' }],\n  ['path', { d: 'M15.1 18H3', key: '1nb16a' }],\n]);\n\nexport default Text;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Video\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgOC02IDQgNiA0VjhaIiAvPgogIDxyZWN0IHdpZHRoPSIxNCIgaGVpZ2h0PSIxMiIgeD0iMiIgeT0iNiIgcng9IjIiIHJ5PSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/video\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Video = createLucideIcon('Video', [\n  ['path', { d: 'm22 8-6 4 6 4V8Z', key: '50v9me' }],\n  ['rect', { width: '14', height: '12', x: '2', y: '6', rx: '2', ry: '2', key: '1rqjg6' }],\n]);\n\nexport default Video;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Volume2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjExIDUgNiA5IDIgOSAyIDE1IDYgMTUgMTEgMTkgMTEgNSIgLz4KICA8cGF0aCBkPSJNMTUuNTQgOC40NmE1IDUgMCAwIDEgMCA3LjA3IiAvPgogIDxwYXRoIGQ9Ik0xOS4wNyA0LjkzYTEwIDEwIDAgMCAxIDAgMTQuMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/volume-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Volume2 = createLucideIcon('Volume2', [\n  ['polygon', { points: '11 5 6 9 2 9 2 15 6 15 11 19 11 5', key: '16drj5' }],\n  ['path', { d: 'M15.54 8.46a5 5 0 0 1 0 7.07', key: 'ltjumu' }],\n  ['path', { d: 'M19.07 4.93a10 10 0 0 1 0 14.14', key: '1kegas' }],\n]);\n\nexport default Volume2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Wrench\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNyA2LjNhMSAxIDAgMCAwIDAgMS40bDEuNiAxLjZhMSAxIDAgMCAwIDEuNCAwbDMuNzctMy43N2E2IDYgMCAwIDEtNy45NCA3Ljk0bC02LjkxIDYuOTFhMi4xMiAyLjEyIDAgMCAxLTMtM2w2LjkxLTYuOTFhNiA2IDAgMCAxIDcuOTQtNy45NGwtMy43NiAzLjc2eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/wrench\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wrench = createLucideIcon('Wrench', [\n  [\n    'path',\n    {\n      d: 'M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z',\n      key: 'cbrjhi',\n    },\n  ],\n]);\n\nexport default Wrench;\n","import * as React from \"rehackt\";\nimport { canUseDOM } from \"../../../utilities/index.js\";\n// use canUseDOM here instead of canUseLayoutEffect because we want to be able\n// to use useLayoutEffect in our jest tests. useLayoutEffect seems to work fine\n// in useSuspenseQuery tests, but to honor the original comment about the\n// warnings for useSyncExternalStore implementation, canUseLayoutEffect is left\n// alone.\nexport var useIsomorphicLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;\n//# sourceMappingURL=useIsomorphicLayoutEffect.js.map","import { __assign } from \"tslib\";\nimport * as React from \"rehackt\";\nimport { mergeOptions } from \"../../utilities/index.js\";\nimport { equal } from \"@wry/equality\";\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { ApolloError } from \"../../errors/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nimport { useIsomorphicLayoutEffect } from \"./internal/useIsomorphicLayoutEffect.js\";\n/**\n *\n *\n * > Refer to the [Mutations](https://www.apollographql.com/docs/react/data/mutations/) section for a more in-depth overview of `useMutation`.\n *\n * @example\n * ```jsx\n * import { gql, useMutation } from '@apollo/client';\n *\n * const ADD_TODO = gql`\n *   mutation AddTodo($type: String!) {\n *     addTodo(type: $type) {\n *       id\n *       type\n *     }\n *   }\n * `;\n *\n * function AddTodo() {\n *   let input;\n *   const [addTodo, { data }] = useMutation(ADD_TODO);\n *\n *   return (\n *     <div>\n *       <form\n *         onSubmit={e => {\n *           e.preventDefault();\n *           addTodo({ variables: { type: input.value } });\n *           input.value = '';\n *         }}\n *       >\n *         <input\n *           ref={node => {\n *             input = node;\n *           }}\n *         />\n *         <button type=\"submit\">Add Todo</button>\n *       </form>\n *     </div>\n *   );\n * }\n * ```\n * @since 3.0.0\n * @param mutation - A GraphQL mutation document parsed into an AST by `gql`.\n * @param options - Options to control how the mutation is executed.\n * @returns A tuple in the form of `[mutate, result]`\n */\nexport function useMutation(mutation, options) {\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(mutation, DocumentType.Mutation);\n    var _a = React.useState({\n        called: false,\n        loading: false,\n        client: client,\n    }), result = _a[0], setResult = _a[1];\n    var ref = React.useRef({\n        result: result,\n        mutationId: 0,\n        isMounted: true,\n        client: client,\n        mutation: mutation,\n        options: options,\n    });\n    useIsomorphicLayoutEffect(function () {\n        Object.assign(ref.current, { client: client, options: options, mutation: mutation });\n    });\n    var execute = React.useCallback(function (executeOptions) {\n        if (executeOptions === void 0) { executeOptions = {}; }\n        var _a = ref.current, options = _a.options, mutation = _a.mutation;\n        var baseOptions = __assign(__assign({}, options), { mutation: mutation });\n        var client = executeOptions.client || ref.current.client;\n        if (!ref.current.result.loading &&\n            !baseOptions.ignoreResults &&\n            ref.current.isMounted) {\n            setResult((ref.current.result = {\n                loading: true,\n                error: void 0,\n                data: void 0,\n                called: true,\n                client: client,\n            }));\n        }\n        var mutationId = ++ref.current.mutationId;\n        var clientOptions = mergeOptions(baseOptions, executeOptions);\n        return client\n            .mutate(clientOptions)\n            .then(function (response) {\n            var _a, _b;\n            var data = response.data, errors = response.errors;\n            var error = errors && errors.length > 0 ?\n                new ApolloError({ graphQLErrors: errors })\n                : void 0;\n            var onError = executeOptions.onError || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError);\n            if (error && onError) {\n                onError(error, clientOptions);\n            }\n            if (mutationId === ref.current.mutationId &&\n                !clientOptions.ignoreResults) {\n                var result_1 = {\n                    called: true,\n                    loading: false,\n                    data: data,\n                    error: error,\n                    client: client,\n                };\n                if (ref.current.isMounted && !equal(ref.current.result, result_1)) {\n                    setResult((ref.current.result = result_1));\n                }\n            }\n            var onCompleted = executeOptions.onCompleted || ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onCompleted);\n            if (!error) {\n                onCompleted === null || onCompleted === void 0 ? void 0 : onCompleted(response.data, clientOptions);\n            }\n            return response;\n        }, function (error) {\n            var _a;\n            if (mutationId === ref.current.mutationId &&\n                ref.current.isMounted) {\n                var result_2 = {\n                    loading: false,\n                    error: error,\n                    data: void 0,\n                    called: true,\n                    client: client,\n                };\n                if (!equal(ref.current.result, result_2)) {\n                    setResult((ref.current.result = result_2));\n                }\n            }\n            var onError = executeOptions.onError || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError);\n            if (onError) {\n                onError(error, clientOptions);\n                // TODO(brian): why are we returning this here???\n                return { data: void 0, errors: error };\n            }\n            throw error;\n        });\n    }, []);\n    var reset = React.useCallback(function () {\n        if (ref.current.isMounted) {\n            var result_3 = {\n                called: false,\n                loading: false,\n                client: ref.current.client,\n            };\n            Object.assign(ref.current, { mutationId: 0, result: result_3 });\n            setResult(result_3);\n        }\n    }, []);\n    React.useEffect(function () {\n        var current = ref.current;\n        // eslint-disable-next-line react-compiler/react-compiler\n        current.isMounted = true;\n        return function () {\n            current.isMounted = false;\n        };\n    }, []);\n    return [execute, __assign({ reset: reset }, result)];\n}\n//# sourceMappingURL=useMutation.js.map"],"names":["Promise","resolve","then","__webpack_require__","bind","ChatSessionsComponent","param","sessionsQuery","agent","type","pathname","usePathname","toast","useToast","user","useContext","UserContext","sessionName","setSessionName","useState","useIsMobile","router","useRouter","search","setSearch","searchString","renameDialogOpen","setRenameDialogOpen","renameSessionId","setRenameSessionId","newSessionName","setNewSessionName","useQuery","GET_AGENT_SESSIONS","returnPartialData","fetchPolicy","nextFetchPolicy","variables","page","limit","filters","eq","removeSession","removeSessionResult","useMutation","REMOVE_AGENT_SESSION_BY_ID","refetchQueries","createAgentSession","createAgentSessionResult","CREATE_AGENT_SESSION","updateSessionTitle","updateSessionTitleResult","UPDATE_AGENT_SESSION_TITLE","useEffect","length","title","contains","refetch","handleCreateSession","newSession","id","trim","createdAt","Date","toISOString","updatedAt","errors","console","error","data","agent_sessionsCreateOne","item","push","concat","handleRenameSession","result","description","variant","jsx_runtime","jsxs","div","className","x-chunk","jsx","h2","form","Search","Input","onKeyUp","e","currentTarget","value","placeholder","autoFocus","onChange","target","onKeyDown","key","Button","tabIndex","disabled","loading","onClick","PlusIcon","Skeleton","agent_sessionsPagination","items","p","map","writeAccess","checkChatSessionWriteAccess","Link","href","cn","includes","substring","formatDistanceToNow","addSuffix","DropdownMenu","DropdownMenuTrigger","asChild","DotsHorizontalIcon","span","DropdownMenuContent","align","DropdownMenuItem","preventDefault","stopPropagation","small","name","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","DialogDescription","DialogFooter","AgentNav","agents","searchQuery","setSearchQuery","React","selectedAgentId","setSelectedAgentId","sheetOpen","setSheetOpen","showAllFavorites","setShowAllFavorites","showAllAgents","setShowAllAgents","params","useParams","init","setUser","favouriteAgents","GET_AGENTS_BY_IDS","ids","favourite_agents","skip","GET_AGENTS","super_admin","active","updateUser","UPDATE_USER_BY_ID","onCompleted","usersUpdateOneById","handleInfoClick","agentId","event","handleFavouriteToggle","newFavourites","log","currentFavourites","filter","selectedAgent","agentsPagination","find","renderAgentImage","image","img","src","alt","charAt","toUpperCase","Fragment","size","ChevronLeft","TruncatedText","text","Star","Info","favoriteAgentsList","agentByIds","displayedFavorites","slice","regularAgentsList","displayedAgents","AgentDetailsSheet","ChatLayout","children","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","count","toastTimeouts","Map","addToRemoveQueue","has","toastId","timeout","setTimeout","delete","dispatch","set","reducer","state","action","toasts","t","forEach","undefined","listeners","memoryState","listener","props","Number","MAX_SAFE_INTEGER","toString","dismiss","update","setState","index","indexOf","splice","session","isPrivate","rights_mode","isPublic","byUsers","byRoles","isAdmin","isCreator","created_by","RBAC","users","u","rights","roles","r","role","createLucideIcon","d","Image","width","height","x","y","rx","ry","cx","cy","Plus","Shield","points","Text","Video","Volume2","Wrench","useIsomorphicLayoutEffect","canUse","Nq","rehackt","useLayoutEffect","mutation","options","client","useApolloClient","parser","Vp","n_","Mutation","_a","called","setResult","ref","useRef","mutationId","isMounted","Object","assign","current","execute","useCallback","executeOptions","baseOptions","tslib_es6","pi","ignoreResults","clientOptions","mergeOptions","J","mutate","response","_b","client_errors","cA","graphQLErrors","onError","result_1","lib","D","result_2","reset","result_3"],"sourceRoot":""}