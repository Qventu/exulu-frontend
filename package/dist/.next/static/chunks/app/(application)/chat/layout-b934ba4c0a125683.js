(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3143],{62422:function(e,t,n){Promise.resolve().then(n.bind(n,41587))},41587:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var s=n(57437),l=n(27648),i=n(73247),r=n(92451),a=n(86595),o=n(33245),d=n(62869),c=n(95186),u=n(7211),h=n(12199),f=n(27689),m=n(2265),x=n(37091),v=n(99376),g=n(93022),p=n(25915),j=n(13832),y=n(20653),N=n(7598),w=n(99397),b=n(84190),k=n(26110),S=n(77992),_=n(94508),C=n(866),O=n(87393);function Z(e){var t,n,r,a,o,x;let{agent:p,type:Z}=e,I=(0,v.usePathname)(),{toast:z}=(0,S.pm)(),{user:A}=(0,m.useContext)(j.S),[E,M]=(0,m.useState)("");(0,C.d)();let D=(0,v.useRouter)(),[T,P]=(0,m.useState)({searchString:null}),[F,R]=(0,m.useState)(!1),[L,q]=(0,m.useState)(null),[V,B]=(0,m.useState)(""),G=(0,u.aM)(f.GJ,{returnPartialData:!0,fetchPolicy:"network-only",nextFetchPolicy:"network-only",variables:{page:1,limit:40,filters:{agent:{eq:p}}}}),[W,U]=(0,h.D)(f.S9,{refetchQueries:[f.GJ,"GetAgentSessions"]}),[J,K]=(0,h.D)(f.fB),[Q,H]=(0,h.D)(f.bI,{refetchQueries:[f.GJ,"GetAgentSessions"]});(0,m.useEffect)(()=>{let e={page:1,limit:40};T&&(null==T?void 0:T.length)>2?e.filters={agent:{eq:p},title:{contains:T}}:e.filters={agent:{eq:p}},G.refetch(e)},[T]);let X=async()=>{var e,t,n,s,l,i;let r=await J({variables:{user:A.id,agent:p,type:"FLOW",title:E.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}});if(r.errors){console.error("error",r.errors);return}if(!(null===(n=r.data)||void 0===n?void 0:null===(t=n.agent_sessionsCreateOne)||void 0===t?void 0:null===(e=t.item)||void 0===e?void 0:e.id)){console.error("error","failed to create session");return}M(""),G.refetch(),D.push("/chat/".concat(p,"/").concat(null===(i=r.data)||void 0===i?void 0:null===(l=i.agent_sessionsCreateOne)||void 0===l?void 0:null===(s=l.item)||void 0===s?void 0:s.id))},$=async()=>{if(!L||!V.trim())return;let e=await Q({variables:{id:L,title:V.trim()}});if(e.errors){console.error("error",e.errors),z({title:"Error",description:"Failed to rename session.",variant:"destructive"});return}z({title:"Session renamed",description:"The session has been renamed successfully."}),R(!1),q(null),B("")};return(0,s.jsxs)("div",{className:"relative hidden flex-col items-start md:flex h-100 overflow-y-scroll border-r","x-chunk":"dashboard-03-chunk-0",children:[(0,s.jsx)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Sessions"}),(0,s.jsx)("div",{className:"bg-background/95 w-full backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsx)("form",{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Z,{className:"absolute left-2 top-2.5 size-4 text-muted-foreground"}),(0,s.jsx)(c.I,{onKeyUp:e=>{P(e.currentTarget.value)},placeholder:"Search sessions",className:"pl-8 border-0"})]})})}),(0,s.jsxs)("div",{className:"flex w-full items-center gap-2 p-3 border-t justify-between",children:[(0,s.jsx)(c.I,{autoFocus:!0,value:E,onChange:e=>M(e.target.value),onKeyDown:e=>{"Enter"===e.key&&X()},placeholder:"Name",className:"flex-1"}),(0,s.jsx)(d.z,{variant:"secondary",tabIndex:1,disabled:K.loading||!E.trim(),onClick:async()=>{X()},children:(0,s.jsx)("div",{className:"font-semibold",children:(0,s.jsx)(w.Z,{})})})]}),G.loading&&(0,s.jsxs)("div",{className:"w-full flex flex-col p-2 pt-0 pb-2",children:[(0,s.jsx)(g.O,{className:"w-full rounded h-[70px] rounded-md"}),(0,s.jsx)(g.O,{className:"w-full rounded h-[70px] rounded-md mt-3"}),(0,s.jsx)(g.O,{className:"w-full rounded h-[70px] rounded-md mt-3"}),(0,s.jsx)(g.O,{className:"w-full rounded h-[70px] rounded-md mt-3"})]}),!G.loading&&!(null==G?void 0:null===(r=G.data)||void 0===r?void 0:null===(n=r.agent_sessionsPagination)||void 0===n?void 0:null===(t=n.items)||void 0===t?void 0:t.length)&&(0,s.jsx)("div",{className:"w-full flex",children:(0,s.jsx)("p",{className:"mx-auto mt-5",children:"No sessions found."})}),G.loading?null:null==G?void 0:null===(x=G.data)||void 0===x?void 0:null===(o=x.agent_sessionsPagination)||void 0===o?void 0:null===(a=o.items)||void 0===a?void 0:a.map(e=>{var t,n;let i=(0,O.I)({...e,agent:e.agent.id},A);return(0,s.jsx)("div",{className:"w-full px-2 flex flex-col items-start gap-0 rounded-none border-none text-left text-sm mb-2",children:(0,s.jsx)(l.default,{href:"/chat/".concat(p,"/").concat(e.id),className:(0,_.cn)("p-2 w-full flex flex-col items-start gap-2 rounded-md p-3 text-left text-sm transition-all hover:bg-accent",I.includes(e.id)&&"bg-muted",i?"border border-l-4 border-r-0 border-y-0 border-gray-700":"border border-l-4 border-r-0 border-y-0 border-yellow-900"),children:(0,s.jsxs)("div",{className:"flex w-full flex-col px-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"text-md font-medium max-w-[80%] truncate",children:e.title?null===(t=e.title)||void 0===t?void 0:t.substring(0,20):"No title"}),(0,s.jsxs)("div",{className:(0,_.cn)("ml-0 text-xs capitalize",I.includes(e.id)?"text-foreground":"text-muted-foreground"),children:[e.updatedAt?(0,N.Q)(new Date(e.updatedAt),{addSuffix:!0}):null,"."]})]}),i&&(0,s.jsxs)(b.h_,{children:[(0,s.jsx)(b.$F,{asChild:!0,children:(0,s.jsxs)(d.z,{variant:"ghost",className:"flex size-8 p-0 data-[state=open]:bg-muted",children:[(0,s.jsx)(y.nWS,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,s.jsxs)(b.AW,{align:"end",className:"w-[160px]",children:[(0,s.jsx)(b.Xi,{className:"cursor-pointer",onClick:t=>{t.preventDefault(),t.stopPropagation(),q(e.id),B(e.title||""),R(!0)},children:"Rename"}),(0,s.jsx)(b.Xi,{className:"cursor-pointer",onClick:()=>{W({variables:{id:e.id}}),z({title:"Deleting session",description:"We deleted the session."})},children:"Delete"})]})]})]}),(0,s.jsx)("small",{className:"text-xs text-muted-foreground",children:null===(n=e.agent)||void 0===n?void 0:n.name})]})},e.id)},e.id)}),(0,s.jsx)(k.Vq,{open:F,onOpenChange:R,children:(0,s.jsxs)(k.cZ,{children:[(0,s.jsxs)(k.fK,{children:[(0,s.jsx)(k.$N,{children:"Rename Session"}),(0,s.jsx)(k.Be,{children:"Enter a new name for this session."})]}),(0,s.jsx)(c.I,{value:V,onChange:e=>B(e.target.value),onKeyDown:e=>{"Enter"===e.key&&$()},placeholder:"Session name"}),(0,s.jsxs)(k.cN,{children:[(0,s.jsx)(d.z,{variant:"outline",onClick:()=>{R(!1),q(null),B("")},children:"Cancel"}),(0,s.jsx)(d.z,{onClick:$,disabled:H.loading||!V.trim(),children:"Rename"})]})]})})]},p+Z)}function I(){var e,t,n,y,N;let[w,b]=m.useState(""),[k,S]=m.useState(null),[_,C]=m.useState(!1),[O,I]=m.useState(!1),[z,A]=m.useState(!1),E=(0,v.useParams)(),M=(0,v.usePathname)(),{user:D}=(0,m.useContext)(j.S),[T,P]=(0,m.useState)(D),F=(0,u.aM)(f.W9,{fetchPolicy:"no-cache",nextFetchPolicy:"network-only",variables:{ids:(null==T?void 0:T.favourite_agents)||[]},skip:!(null==T?void 0:null===(e=T.favourite_agents)||void 0===e?void 0:e.length)}),R=(0,u.aM)(f.ym,{fetchPolicy:"no-cache",nextFetchPolicy:"network-only",variables:{page:1,limit:200,filters:{...(null==T?void 0:T.super_admin)?{}:{active:!0},...w?{name:{contains:w}}:{}}}}),[L]=(0,h.D)(f.Pe,{onCompleted:e=>{var t,n;P({...T,favourite_agents:null===(n=e.usersUpdateOneById)||void 0===n?void 0:null===(t=n.item)||void 0===t?void 0:t.favourite_agents})}}),q=(e,t)=>{t.preventDefault(),t.stopPropagation(),S(e),C(!0)},V=(e,t)=>{let n;t.preventDefault(),t.stopPropagation(),console.log("user",T);let s=(null==T?void 0:T.favourite_agents)||[];console.log("newFavourites",n=s.includes(e)?s.filter(t=>t!==e):[...s,e]),L({variables:{id:T.id,favourite_agents:n}})},B=E.agent?null==R?void 0:null===(y=R.data)||void 0===y?void 0:null===(n=y.agentsPagination)||void 0===n?void 0:null===(t=n.items)||void 0===t?void 0:t.find(e=>e.id===E.agent):null,G=e=>{var t;return e.image?(0,s.jsx)("img",{src:e.image,alt:"".concat(e.name," profile"),className:"h-4 w-4 rounded-full object-cover"}):(0,s.jsx)("div",{className:"h-4 w-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-medium",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"A"})};return(0,m.useEffect)(()=>{A(!1),I(!1)},[E.agent]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"pb-12 w-[250px]",children:[(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Agents"}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(c.I,{placeholder:"Search agents...",value:w,onChange:e=>b(e.target.value),className:"pl-8 h-9 border-0"})]})}),(0,s.jsxs)("div",{className:"space-y-1 border-t px-2 pt-2",children:[B&&!z&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:()=>A(!z),children:(0,s.jsx)(r.Z,{className:"h-3 w-3"})}),(0,s.jsx)(l.default,{onClick:()=>A(!1),href:"/chat/".concat(B.id),className:"flex-1",children:(0,s.jsxs)(d.z,{onClick:()=>A(!1),variant:M.includes(B.id)?"secondary":"ghost",className:"w-full justify-start gap-2 pr-5",children:[G(B),(0,s.jsx)("span",{className:"flex-1 text-left",children:(0,s.jsx)(x.L,{text:B.name,length:7})})]})}),(0,s.jsx)(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:e=>V(B.id,e),children:(0,s.jsx)(a.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})}),(0,s.jsx)(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:e=>q(B.id,e),children:(0,s.jsx)(o.Z,{className:"h-3 w-3"})})]},"fav-".concat(B.id)),(!B||z||w)&&(0,s.jsxs)(s.Fragment,{children:[(null==T?void 0:T.favourite_agents)&&(null==T?void 0:null===(N=T.favourite_agents)||void 0===N?void 0:N.length)>0&&!w&&(0,s.jsxs)(s.Fragment,{children:[F.loading&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.O,{className:"w-[100%] h-[32px] rounded-lg"}),(0,s.jsx)(g.O,{className:"w-[100%] h-[32px] rounded-lg"})]}),!F.loading&&(()=>{var e;let t=(null==F?void 0:null===(e=F.data)||void 0===e?void 0:e.agentByIds)||[],n=O?t:t.slice(0,4);return(0,s.jsxs)(s.Fragment,{children:[n.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(l.default,{href:"/chat/".concat(e.id),className:"flex-1",children:(0,s.jsxs)(d.z,{variant:M.includes(e.id)?"secondary":"ghost",className:"w-full justify-start gap-2 pr-1",children:[G(e),(0,s.jsx)("span",{className:"flex-1 text-left",children:(0,s.jsx)(x.L,{text:e.name,length:10})})]})}),(0,s.jsx)(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:t=>V(e.id,t),children:(0,s.jsx)(a.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})}),(0,s.jsx)(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:t=>q(e.id,t),children:(0,s.jsx)(o.Z,{className:"h-3 w-3"})})]},"fav-".concat(e.id))),t.length>4&&(0,s.jsx)(d.z,{variant:"ghost",className:"w-full justify-center text-xs text-muted-foreground h-8",onClick:()=>I(!O),children:O?"Show less":"Show more (".concat(t.length-4,")")})]})})()]}),R.loading&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.O,{className:"w-[100%] h-[32px] rounded-lg"}),(0,s.jsx)(g.O,{className:"w-[100%] h-[32px] rounded-lg"}),(0,s.jsx)(g.O,{className:"w-[100%] h-[32px] rounded-lg"}),(0,s.jsx)(g.O,{className:"w-[100%] h-[32px] rounded-lg"}),(0,s.jsx)(g.O,{className:"w-[100%] h-[32px] rounded-lg"})]}),!R.loading&&(()=>{var e,t,n;let i=(null==R?void 0:null===(n=R.data)||void 0===n?void 0:null===(t=n.agentsPagination)||void 0===t?void 0:null===(e=t.items)||void 0===e?void 0:e.filter(e=>{var t;return!(null==T?void 0:null===(t=T.favourite_agents)||void 0===t?void 0:t.includes(e.id))||w}))||[],r=w||z?i:i.slice(0,4);return(0,s.jsxs)(s.Fragment,{children:[r.map(e=>{var t;return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(l.default,{href:"/chat/".concat(e.id),className:"flex-1",children:(0,s.jsxs)(d.z,{variant:M.includes(e.id)?"secondary":"ghost",className:"w-full justify-start gap-2 pr-1",children:[G(e),(0,s.jsx)("span",{className:"flex-1 text-left",children:(0,s.jsx)(x.L,{text:e.name,length:14})})]})}),(0,s.jsx)(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:t=>V(e.id,t),children:(0,s.jsx)(a.Z,{className:"h-3 w-3 ".concat((null==T?void 0:null===(t=T.favourite_agents)||void 0===t?void 0:t.includes(e.id))?"fill-yellow-400 text-yellow-400":"")})}),(0,s.jsx)(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:t=>q(e.id,t),children:(0,s.jsx)(o.Z,{className:"h-3 w-3"})})]},e.id)}),!w&&i.length>4&&(0,s.jsx)(d.z,{variant:"ghost",className:"w-full justify-center text-xs text-muted-foreground h-8",onClick:()=>A(!z),children:z?"Show less":"Show more (".concat(i.length-4,")")})]})})()]})]})]})}),E.agent&&(0,s.jsx)(Z,{agent:E.agent,type:"chat"})]}),k&&(0,s.jsx)(p.z,{agentId:k,open:_,onOpenChange:e=>{C(e),e||S(null)}})]})}function z(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"flex h-full",children:[(0,s.jsx)("div",{className:"border-r bg-muted/10",children:(0,s.jsx)(I,{})}),t]})}},37091:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var s=n(57437);function l(e){let{text:t,length:n}=e;return t.length>n?(0,s.jsxs)(s.Fragment,{children:[t.slice(0,n),"..."]}):(0,s.jsx)(s.Fragment,{children:t})}},77992:function(e,t,n){"use strict";n.d(t,{Am:function(){return u},pm:function(){return h}});var s=n(2265);let l=0,i=new Map,r=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},a=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?r(n):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=a(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,n=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:n});return c({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||s()}}}),{id:n,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function h(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},87393:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});let s=(e,t)=>{var n,s,l,i,r,a;let o="private"===e.rights_mode,d="public"===e.rights_mode,c="users"===e.rights_mode,u="roles"===e.rights_mode,h=t.super_admin,f=e.created_by===t.id.toString(),m=!1;return o&&f&&(m=!0),d&&(m=!0),c&&(m=(null===(l=e.RBAC)||void 0===l?void 0:null===(s=l.users)||void 0===s?void 0:null===(n=s.find(e=>e.id===t.id))||void 0===n?void 0:n.rights)==="write"),u&&(m=(null===(a=e.RBAC)||void 0===a?void 0:null===(r=a.roles)||void 0===r?void 0:null===(i=r.find(e=>{var n;return e.id===(null===(n=t.role)||void 0===n?void 0:n.id)}))||void 0===i?void 0:i.rights)==="write"),h&&(m=!0),m}},92451:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},53113:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},33245:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},99397:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},88906:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},86595:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},49137:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]])},29374:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81706:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]])},29525:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},12199:function(e,t,n){"use strict";n.d(t,{D:function(){return u}});var s=n(5853),l=n(79285),i=n(49466),r=n(36628),a=n(59058),o=n(77828),d=n(63251),c=n(59394).Nq?l.useLayoutEffect:l.useEffect;function u(e,t){var n=(0,d.x)(null==t?void 0:t.client);(0,a.Vp)(e,a.n_.Mutation);var u=l.useState({called:!1,loading:!1,client:n}),h=u[0],f=u[1],m=l.useRef({result:h,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});c(function(){Object.assign(m.current,{client:n,options:t,mutation:e})});var x=l.useCallback(function(e){void 0===e&&(e={});var t=m.current,n=t.options,l=t.mutation,a=(0,s.pi)((0,s.pi)({},n),{mutation:l}),d=e.client||m.current.client;m.current.result.loading||a.ignoreResults||!m.current.isMounted||f(m.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:d});var c=++m.current.mutationId,u=(0,i.J)(a,e);return d.mutate(u).then(function(t){var n,s,l=t.data,i=t.errors,a=i&&i.length>0?new o.cA({graphQLErrors:i}):void 0,h=e.onError||(null===(n=m.current.options)||void 0===n?void 0:n.onError);if(a&&h&&h(a,u),c===m.current.mutationId&&!u.ignoreResults){var x={called:!0,loading:!1,data:l,error:a,client:d};m.current.isMounted&&!(0,r.D)(m.current.result,x)&&f(m.current.result=x)}var v=e.onCompleted||(null===(s=m.current.options)||void 0===s?void 0:s.onCompleted);return a||null==v||v(t.data,u),t},function(t){if(c===m.current.mutationId&&m.current.isMounted){var n,s={loading:!1,error:t,data:void 0,called:!0,client:d};(0,r.D)(m.current.result,s)||f(m.current.result=s)}var l=e.onError||(null===(n=m.current.options)||void 0===n?void 0:n.onError);if(l)return l(t,u),{data:void 0,errors:t};throw t})},[]),v=l.useCallback(function(){if(m.current.isMounted){var e={called:!1,loading:!1,client:m.current.client};Object.assign(m.current,{mutationId:0,result:e}),f(e)}},[]);return l.useEffect(function(){var e=m.current;return e.isMounted=!0,function(){e.isMounted=!1}},[]),[x,(0,s.pi)({reset:v},h)]}}},function(e){e.O(0,[8310,9851,7629,7093,6148,847,1942,7648,7823,8068,5799,4567,605,85,4957,7398,3825,7598,6373,3832,2293,2971,2117,1744],function(){return e(e.s=62422)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-b934ba4c0a125683.js.map