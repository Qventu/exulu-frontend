(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8568],{92076:function(e,s,i){Promise.resolve().then(i.bind(i,76193))},76193:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return es},dynamic:function(){return ee}});var n=i(57437),a=i(2265),t=i(7211),l=i(12199),r=i(13590),d=i(99376),c=i(29501),o=i(67119),u=i(18930),x=i(62869),m=i(26110),h=i(95186),f=i(26815),v=i(10492);function j(e){let{deleteAgent:s,deleteAgentResult:i,agent:t}=e,l="delete this agent",[r,d]=(0,a.useState)("");return(0,n.jsxs)(m.Vq,{children:[(0,n.jsx)(m.hg,{asChild:!0,children:(0,n.jsx)(x.z,{disabled:!(null==t?void 0:t.id),variant:"destructive",children:(0,n.jsx)(u.Z,{className:"size-4"})})}),(0,n.jsxs)(m.cZ,{className:"sm:max-w-[475px]",children:[(0,n.jsx)(m.fK,{children:(0,n.jsx)(m.$N,{children:"Delete this agent"})}),(0,n.jsx)("div",{className:"grid gap-4 py-4",children:(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsxs)(f._,{htmlFor:"name",children:['Type "',l,'" to confirm']}),(0,n.jsx)(h.I,{onChange:e=>{d(e.target.value)},id:"name",autoFocus:!0})]})}),(0,n.jsx)(m.cN,{children:(0,n.jsxs)(x.z,{disabled:r!==l||i.loading,onClick:()=>{s({variables:{id:t.id}})},variant:"destructive",type:"submit",children:["Delete ",i.loading&&(0,n.jsx)(v.g,{})]})})]})]})}var p=i(27689),g=i(66070),b=i(15681),y=i(6512),N=i(1828),w=i(12339),C=i(76818),k=i(13832),Z=i(35974),A=i(77992);function I(){return(0,n.jsx)("svg",{width:"19",height:"20",viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M3.5 12.5003C2.72343 12.5003 2.33515 12.5003 2.02886 12.3735C1.62048 12.2043 1.29602 11.8798 1.12687 11.4715C1 11.1652 1 10.7769 1 10.0003V4.33366C1 3.40024 1 2.93353 1.18166 2.57701C1.34144 2.2634 1.59641 2.00844 1.91002 1.84865C2.26654 1.66699 2.73325 1.66699 3.66667 1.66699H9.33333C10.1099 1.66699 10.4982 1.66699 10.8045 1.79386C11.2129 1.96302 11.5373 2.28747 11.7065 2.69585C11.8333 3.00214 11.8333 3.39042 11.8333 4.16699M9.5 18.3337H15C15.9334 18.3337 16.4001 18.3337 16.7567 18.152C17.0703 17.9922 17.3252 17.7372 17.485 17.4236C17.6667 17.0671 17.6667 16.6004 17.6667 15.667V10.167C17.6667 9.23357 17.6667 8.76686 17.485 8.41034C17.3252 8.09674 17.0703 7.84177 16.7567 7.68198C16.4001 7.50033 15.9334 7.50033 15 7.50033H9.5C8.56658 7.50033 8.09987 7.50033 7.74335 7.68198C7.42975 7.84177 7.17478 8.09674 7.01499 8.41034C6.83333 8.76686 6.83333 9.23357 6.83333 10.167V15.667C6.83333 16.6004 6.83333 17.0671 7.01499 17.4236C7.17478 17.7372 7.42975 17.9922 7.74335 18.152C8.09987 18.3337 8.56658 18.3337 9.5 18.3337Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}var z=i(53647),D=i(57054),R=i(23518),S=i(24156),M=i(30401),V=i(49137),F=i(53113),_=i(48736),P=i(81706),O=i(29374),E=i(22252),G=i(98728),J=i(33245),T=i(94508),X=i(8014),W=i(74928),B=i(81103),L=i(69304);let Y=["marketing","sales","finance","hr","coding","support","research","knowledge","product"],H=e=>{let{configItem:s,currentValue:i,variables:t,onVariableSelect:l}=e,[r,d]=a.useState(!1),c=t.find(e=>e.name===i);return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("div",{className:"font-medium",children:s.name}),(0,n.jsx)("div",{className:"text-muted-foreground text-xs",children:s.description})]}),(0,n.jsxs)(D.J2,{open:r,onOpenChange:d,modal:!0,children:[(0,n.jsx)(D.xo,{asChild:!0,children:(0,n.jsxs)(x.z,{variant:"outline",role:"combobox","aria-expanded":r,className:"w-full justify-between text-sm",children:[c?c.name:"Select variable...",(0,n.jsx)(S.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,n.jsx)(D.yk,{className:"w-full p-0",children:(0,n.jsxs)(R.mY,{children:[(0,n.jsx)(R.sZ,{placeholder:"Search variables..."}),(0,n.jsxs)(R.e8,{children:[(0,n.jsx)(R.rb,{children:"No variables found."}),(0,n.jsx)(R.fu,{children:t.map(e=>(0,n.jsxs)(R.di,{onSelect:()=>{l(e.name),console.log("variable",e),d(!1)},children:[(0,n.jsx)(M.Z,{className:(0,T.cn)("mr-2 h-4 w-4",i===e.name?"opacity-100":"opacity-0")}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{children:e.name}),e.encrypted&&(0,n.jsx)("span",{className:"text-xs text-muted-foreground",children:"\uD83D\uDD12 Encrypted"})]})]},e.id))})]})]})})]})]})},U=o.Ry({name:o.Z_().min(2,{message:"Agent name must be at least 2 characters."}).max(300,{message:"Agent name must not be longer than 300 characters."}),category:o.Z_().optional(),description:o.Z_().max(1e4,{message:"Agent description must not be longer than 10.000 characters."}).nullable().optional(),instructions:o.Z_().max(4e4,{message:"Agent instructions must not be longer than 40.000 characters."}).nullable().optional(),id:o.Z_().or(o.Rx()).nullable().optional(),active:o.Yj(),providerapikey:o.Z_().nullable().optional(),firewall:o.Ry({enabled:o.O7().optional(),scanners:o.Ry({promptGuard:o.O7().optional(),codeShield:o.O7().optional(),agentAlignment:o.O7().optional(),hiddenAscii:o.O7().optional(),piiDetection:o.O7().optional()}).optional()}).optional()});function K(e){var s,i,o,u,m,f,K,Q,q,$,ee,es,ei,en,ea,et,el,er,ed,ec,eo,eu,ex,em,eh,ef,ev,ej,ep,eg,eb,ey,eN,ew,eC,ek,eZ,eA;let{agent:eI,refetch:ez}=e,eD=(0,d.useRouter)(),{user:eR}=(0,a.useContext)(k.S),[eS,eM]=(0,a.useState)(eI.tools?eI.tools:[]),[eV,eF]=(0,a.useState)(!1),[e_,eP]=(0,a.useState)(eI.providerapikey||""),[eO,eE]=(0,a.useState)((null===(s=eI.firewall)||void 0===s?void 0:s.enabled)||!1),[eG,eJ]=(0,a.useState)({rights_mode:eI.rights_mode,users:null===(i=eI.RBAC)||void 0===i?void 0:i.users,roles:null===(o=eI.RBAC)||void 0===o?void 0:o.roles,projects:null===(u=eI.RBAC)||void 0===u?void 0:u.projects}),[eT,eX]=(0,a.useState)({promptGuard:(null===(f=eI.firewall)||void 0===f?void 0:null===(m=f.scanners)||void 0===m?void 0:m.promptGuard)||!1,codeShield:(null===(Q=eI.firewall)||void 0===Q?void 0:null===(K=Q.scanners)||void 0===K?void 0:K.codeShield)||!1,agentAlignment:(null===($=eI.firewall)||void 0===$?void 0:null===(q=$.scanners)||void 0===q?void 0:q.agentAlignment)||!1,hiddenAscii:(null===(es=eI.firewall)||void 0===es?void 0:null===(ee=es.scanners)||void 0===ee?void 0:ee.hiddenAscii)||!1,piiDetection:(null===(en=eI.firewall)||void 0===en?void 0:null===(ei=en.scanners)||void 0===ei?void 0:ei.piiDetection)||!1}),{toast:eW}=(0,A.pm)(),{data:eB}=(0,t.aM)(p.Ul,{variables:{page:1,limit:100}}),{data:eL}=(0,t.aM)(p.Az,{variables:{page:1,limit:100}}),eY=(null==eL?void 0:null===(ea=eL.variablesPagination)||void 0===ea?void 0:ea.items)||[],eH=async()=>{try{await navigator.clipboard.writeText(eI.id),eW({title:"Agent ID copied to clipboard"})}catch(e){eW({title:"Failed to copy Agent ID",variant:"destructive"})}},[eU,eK]=(0,l.D)(p.fG,{onCompleted:e=>{eD.push("/agents",{scroll:!1})}}),[eQ,eq]=(0,l.D)(p.Dt,{refetchQueries:[p.as,"GetAgentById"]}),e$=(0,c.cI)({resolver:(0,r.F)(U),defaultValues:null!=eI?eI:{name:"New agent",instructions:"",steps:[],firewall:{enabled:!1,scanners:{promptGuard:!1,codeShield:!1,agentAlignment:!1,hiddenAscii:!1,piiDetection:!1}}},mode:"onChange"}),[e0,e1]=(0,l.D)(p.fB);return(0,n.jsxs)("div",{className:"h-full flex-col md:flex",children:[(0,n.jsx)("div",{className:"container flex flex-col items-start justify-between space-y-2 py-4 sm:flex-row sm:items-center sm:space-y-0 md:h-16",children:(0,n.jsxs)("div",{className:"ml-auto flex w-full space-x-2 sm:justify-end",children:[(null==eI?void 0:eI.id)&&(0,n.jsxs)(x.z,{onClick:e$.handleSubmit(async e=>{console.log("data",e),eQ({variables:{id:e.id,name:e.name,description:e.description,instructions:e.instructions,category:e.category,active:e.active,providerapikey:e_,rights_mode:eG.rights_mode,RBAC:{users:eG.users||[],roles:eG.roles||[],projects:eG.projects||[]},firewall:JSON.stringify({enabled:eO,scanners:eT}),tools:JSON.stringify(eS)}}),ez()},e=>{console.error("form data invalid",e)}),disabled:eq.loading,variant:"secondary",type:"submit",children:["Save ",eq.loading&&(0,n.jsx)(v.g,{className:"ml-2"})]}),(0,n.jsx)(x.z,{onClick:()=>{eD.push("/agents",{scroll:!1})},variant:"secondary",type:"button",children:"Back"}),(0,n.jsx)(j,{agent:eI,deleteAgent:eU,deleteAgentResult:eK})]})}),(0,n.jsx)(y.Z,{}),(0,n.jsx)(w.mQ,{defaultValue:"complete",className:"flex-1",children:(0,n.jsx)("div",{className:"container py-6",children:(0,n.jsx)("div",{className:"grid items-stretch gap-6",children:(0,n.jsx)("div",{className:"md:order-1",children:(0,n.jsx)("div",{className:"flex flex-col space-y-4",children:(0,n.jsx)("div",{className:"h-full",children:(0,n.jsx)(b.l0,{...e$,children:(0,n.jsx)("form",{className:"space-y-8",children:(0,n.jsxs)("div",{className:"grid grid-rows-1 grid-flow-col gap-6 lg:grid-cols-2",children:[(0,n.jsx)("div",{className:"col",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,n.jsx)("div",{className:"flex flex-col space-y-2",children:(0,n.jsxs)(g.Zb,{children:[(0,n.jsx)(g.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[eI.image&&(0,n.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:(0,n.jsx)("img",{src:eI.image,alt:"".concat(eI.name," profile"),className:"w-full h-full object-cover"})}),(0,n.jsx)(g.ll,{children:"Agent"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,n.jsxs)("span",{children:["ID: ",eI.id]}),(0,n.jsx)("button",{type:"button",onClick:eH,className:"p-1 hover:bg-muted rounded transition-colors text-muted-foreground",title:"Copy Agent ID",children:(0,n.jsx)(I,{})})]})]})}),(0,n.jsxs)(g.aY,{className:"grid gap-4",children:[(0,n.jsx)(b.Wi,{control:e$.control,name:"name",render:e=>{let{field:s}=e;return(0,n.jsxs)(b.xJ,{children:[(0,n.jsx)(b.lX,{children:"Name"}),(0,n.jsx)(b.NI,{children:(0,n.jsx)(h.I,{type:"text",className:"resize-none",...s})}),(0,n.jsx)(b.zG,{})]})}}),(0,n.jsx)(b.Wi,{control:e$.control,name:"category",render:e=>{let{field:s}=e;return s.value||(s.value=""),(0,n.jsxs)(b.xJ,{children:[(0,n.jsx)(b.lX,{children:"Category"}),(0,n.jsx)(b.NI,{children:(0,n.jsxs)(z.Ph,{onValueChange:e=>{s.onChange(e)},children:[(0,n.jsx)(z.i4,{children:(0,n.jsx)(z.ki,{className:"capitalize",placeholder:s.value||"Select a category"})}),(0,n.jsx)(z.Bw,{children:Y.map(e=>(0,n.jsx)(z.Ql,{className:"capitalize",value:e,children:e},e))})]})}),(0,n.jsx)(b.zG,{})]})}}),(0,n.jsx)(b.Wi,{control:e$.control,name:"description",render:e=>{var s;let{field:i}=e;return i.value||(i.value=""),(0,n.jsxs)(b.xJ,{children:[(0,n.jsx)(b.lX,{children:"Description"}),(0,n.jsx)(b.NI,{children:(0,n.jsx)(C.g,{rows:10,className:"resize-none",...i,value:null!==(s=i.value)&&void 0!==s?s:""})}),(0,n.jsx)(b.zG,{})]})}}),(0,n.jsx)(b.Wi,{control:e$.control,name:"instructions",render:e=>{var s;let{field:i}=e;return i.value||(i.value=""),(0,n.jsxs)(b.xJ,{children:[(0,n.jsx)(b.lX,{children:"Instructions"}),(0,n.jsx)(b.NI,{children:(0,n.jsx)(C.g,{rows:10,className:"resize-none",...i,value:null!==(s=i.value)&&void 0!==s?s:""})}),(0,n.jsx)(b.zG,{})]})}}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("div",{className:"font-medium",children:"Provider API Key"}),(0,n.jsx)("div",{className:"text-muted-foreground text-xs",children:"Select a variable containing the API key for the provider"})]}),(0,n.jsxs)(D.J2,{children:[(0,n.jsx)(D.xo,{asChild:!0,children:(0,n.jsxs)(x.z,{variant:"outline",role:"combobox",className:"w-full justify-between text-sm",children:[(null===(et=eY.find(e=>e.name===e_))||void 0===et?void 0:et.name)||"Select variable...",(0,n.jsx)(S.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,n.jsx)(D.yk,{className:"w-full p-0 z-[9999]",children:(0,n.jsxs)(R.mY,{children:[(0,n.jsx)(R.sZ,{placeholder:"Search variables..."}),(0,n.jsxs)(R.e8,{children:[(0,n.jsx)(R.rb,{children:"No variables found."}),(0,n.jsx)(R.fu,{children:eY.map(e=>(0,n.jsxs)(R.di,{onSelect:()=>{eP(e.name)},children:[(0,n.jsx)(M.Z,{className:(0,T.cn)("mr-2 h-4 w-4",e_===e.name?"opacity-100":"opacity-0")}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{children:e.name}),e.encrypted&&(0,n.jsx)("span",{className:"text-xs text-muted-foreground",children:"\uD83D\uDD12 Encrypted"})]})]},e.id))})]})]})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium mb-2",children:"Modalities"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["This agent uses ",(0,n.jsx)("b",{children:eI.modelName})," from ",(0,n.jsx)("b",{children:eI.providerName})," and can use the following capabilities:"]}),(0,n.jsx)(B.pn,{children:(0,n.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,n.jsx)("div",{className:"p-2 rounded-md ".concat((null===(el=eI.capabilities)||void 0===el?void 0:el.text)?"bg-primary text-primary-foreground":"bg-gray-500 text-white"),children:(0,n.jsx)(V.Z,{className:"h-4 w-4"})}),(0,n.jsxs)(B.u,{children:[(0,n.jsx)(B.aJ,{asChild:!0,children:(0,n.jsx)("div",{className:"p-2 rounded-md ".concat((null===(ed=eI.capabilities)||void 0===ed?void 0:null===(er=ed.images)||void 0===er?void 0:er.length)?"bg-primary text-primary-foreground":"bg-gray-500 text-white"),children:(0,n.jsx)(F.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(B._v,{children:(0,n.jsxs)("p",{children:["Images: ",(null===(eo=eI.capabilities)||void 0===eo?void 0:null===(ec=eo.images)||void 0===ec?void 0:ec.length)?eI.capabilities.images.join(", "):"None"]})})]}),(0,n.jsxs)(B.u,{children:[(0,n.jsx)(B.aJ,{asChild:!0,children:(0,n.jsx)("div",{className:"p-2 rounded-md ".concat((null===(ex=eI.capabilities)||void 0===ex?void 0:null===(eu=ex.files)||void 0===eu?void 0:eu.length)?"bg-primary text-primary-foreground":"bg-gray-500 text-white"),children:(0,n.jsx)(_.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(B._v,{children:(0,n.jsxs)("p",{children:["Files: ",(null===(eh=eI.capabilities)||void 0===eh?void 0:null===(em=eh.files)||void 0===em?void 0:em.length)?eI.capabilities.files.join(", "):"None"]})})]}),(0,n.jsxs)(B.u,{children:[(0,n.jsx)(B.aJ,{asChild:!0,children:(0,n.jsx)("div",{className:"p-2 rounded-md ".concat((null===(ev=eI.capabilities)||void 0===ev?void 0:null===(ef=ev.audio)||void 0===ef?void 0:ef.length)?"bg-primary text-primary-foreground":"bg-gray-500 text-white"),children:(0,n.jsx)(P.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(B._v,{children:(0,n.jsxs)("p",{children:["Audio: ",(null===(ep=eI.capabilities)||void 0===ep?void 0:null===(ej=ep.audio)||void 0===ej?void 0:ej.length)?eI.capabilities.audio.join(", "):"None"]})})]}),(0,n.jsxs)(B.u,{children:[(0,n.jsx)(B.aJ,{asChild:!0,children:(0,n.jsx)("div",{className:"p-2 rounded-md ".concat((null===(eb=eI.capabilities)||void 0===eb?void 0:null===(eg=eb.video)||void 0===eg?void 0:eg.length)?"bg-primary text-primary-foreground":"bg-gray-500 text-white"),children:(0,n.jsx)(O.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(B._v,{children:(0,n.jsxs)("p",{children:["Video: ",(null===(eN=eI.capabilities)||void 0===eN?void 0:null===(ey=eN.video)||void 0===ey?void 0:ey.length)?eI.capabilities.video.join(", "):"None"]})})]})]})})]}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-sm font-medium mb-0",children:"    You can test this agent using the Exulu UI without activating the agent if you are a super admin:"}),(0,n.jsx)(x.z,{className:"mt-0",onClick:async()=>{var e,s,i;console.log("agent",eI);let n=await e0({variables:{title:"New session",user:eR.id,agent:eI.id}});console.log("result",n);let a=null==n?void 0:null===(i=n.data)||void 0===i?void 0:null===(s=i.agent_sessionsCreateOne)||void 0===s?void 0:null===(e=s.item)||void 0===e?void 0:e.id;eD.push("/chat/".concat(eI.id,"/").concat(a))},type:"button",variant:"default",children:"Go to chat"})]})]})]})}),(0,n.jsx)(b.Wi,{control:e$.control,name:"active",render:e=>{let{field:s}=e;return(0,n.jsxs)(b.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(b.lX,{className:"text-base",children:"Is this agent active?"}),(0,n.jsx)(b.pf,{children:"When active this agent will be available via the Exulu UI and API endpoint."})]}),(0,n.jsx)(b.NI,{children:(0,n.jsx)(N.r,{checked:s.value,onCheckedChange:s.onChange})})]})}}),(0,n.jsx)(g.Zb,{className:"bg-transparent",children:(0,n.jsxs)(W.zF,{children:[(0,n.jsx)(g.Ol,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("p",{className:"text-base",children:"Access Control"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground mb-0",children:"Control access to this agent."})]}),(0,n.jsx)(W.wy,{asChild:!0,children:(0,n.jsxs)(x.z,{variant:"ghost",size:"icon",className:"size-8",children:[(0,n.jsx)(S.Z,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Toggle"})]})})]})}),(0,n.jsx)(W.Fw,{className:"mt-5",children:(0,n.jsx)(g.aY,{className:"space-y-4",children:(0,n.jsx)(X.P,{initialRightsMode:eI.rights_mode,initialUsers:null===(ew=eI.RBAC)||void 0===ew?void 0:ew.users,initialRoles:null===(eC=eI.RBAC)||void 0===eC?void 0:eC.roles,initialProjects:null===(ek=eI.RBAC)||void 0===ek?void 0:ek.projects,onChange:(e,s,i,n)=>{eJ({rights_mode:e,users:s,roles:i,projects:n})}})})})]})}),(0,n.jsx)(b.Wi,{control:e$.control,name:"firewall.enabled",render:e=>{let{field:s}=e;return(0,n.jsxs)(b.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(b.lX,{className:"text-base",children:"LLM Firewall Protection"}),(0,n.jsx)(b.pf,{children:"Enable firewall to protect against malicious inputs and outputs."})]}),(0,n.jsx)(b.NI,{children:(0,n.jsx)(N.r,{checked:eO,onCheckedChange:e=>{eE(e),s.onChange(e)}})})]})}}),eO&&(0,n.jsxs)(g.Zb,{children:[(0,n.jsxs)(g.Ol,{children:[(0,n.jsx)(g.ll,{children:"Firewall Scanner Configuration"}),(0,n.jsx)(g.SZ,{children:"Configure which security scanners to enable for different types of threats."})]}),(0,n.jsxs)(g.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(b.lX,{className:"text-base",children:"Prompt Guard"}),(0,n.jsx)(b.pf,{children:"Detects and blocks prompt injection attacks."})]}),(0,n.jsx)(N.r,{checked:eT.promptGuard,onCheckedChange:e=>{eX(s=>({...s,promptGuard:e}))}})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(b.lX,{className:"text-base",children:"Code Shield"}),(0,n.jsx)(b.pf,{children:"Prevents generation of malicious code or exploits."})]}),(0,n.jsx)(N.r,{checked:eT.codeShield,onCheckedChange:e=>{eX(s=>({...s,codeShield:e}))}})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(b.lX,{className:"text-base",children:"Agent Alignment"}),(0,n.jsx)(b.pf,{children:"Ensures responses align with safety guidelines and policies."})]}),(0,n.jsx)(N.r,{checked:eT.agentAlignment,onCheckedChange:e=>{eX(s=>({...s,agentAlignment:e}))}})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(b.lX,{className:"text-base",children:"Hidden ASCII Detection"}),(0,n.jsx)(b.pf,{children:"Detects hidden or malformed characters that could bypass other filters."})]}),(0,n.jsx)(N.r,{checked:eT.hiddenAscii,onCheckedChange:e=>{eX(s=>({...s,hiddenAscii:e}))}})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(b.lX,{className:"text-base",children:"PII Detection"}),(0,n.jsx)(b.pf,{children:"Identifies and protects personally identifiable information."})]}),(0,n.jsx)(N.r,{checked:eT.piiDetection,onCheckedChange:e=>{eX(s=>({...s,piiDetection:e}))}})]})]})]})]})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsxs)(g.Zb,{children:[(0,n.jsx)(g.Ol,{children:(0,n.jsx)(g.ll,{children:"Tools"})}),(0,n.jsx)(g.aY,{children:(0,n.jsx)("div",{className:"flex flex-col space-y-4",children:(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tools available for this agent:"}),null==eB?void 0:null===(eA=eB.tools)||void 0===eA?void 0:null===(eZ=eA.items)||void 0===eZ?void 0:eZ.map(e=>{var s,i;if(e.id===eI.id)return null;let a=eS.some(s=>s.id===e.id),t=eS.find(s=>s.id===e.id),l=(null===(s=e.config)||void 0===s?void 0:s.length)||0,r=(null==t?void 0:null===(i=t.config)||void 0===i?void 0:i.filter(e=>e.variable&&""!==e.variable.trim()).length)||0,d=a&&l>0&&r<l;return(0,n.jsx)("div",{className:"rounded-lg border p-4 mt-2",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center flex-1",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"font-medium",children:null==e?void 0:e.name}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[l>0&&a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Z.C,{variant:"secondary",className:"text-xs",children:[r,"/",l]}),d&&(0,n.jsx)(E.Z,{className:"h-4 w-4 text-destructive"})]}),(0,n.jsx)(Z.C,{variant:"outline",children:null==e?void 0:e.type})]})]})}),(0,n.jsxs)(L.yo,{open:eV===e.id,onOpenChange:()=>{eV===e.id?eF(!1):eF(e.id)},children:[l>0&&!a?(0,n.jsx)(L.aM,{asChild:!0,children:(0,n.jsx)(x.z,{variant:"ghost",size:"sm",children:(0,n.jsx)(G.Z,{className:"h-4 w-4"})})}):(0,n.jsx)(x.z,{type:"button",disabled:!0,variant:"ghost",size:"sm",children:(0,n.jsx)(G.Z,{className:"h-4 w-4"})}),(0,n.jsx)(L.aM,{asChild:!0,children:(0,n.jsx)(x.z,{className:"mr-2",variant:"ghost",size:"sm",children:(0,n.jsx)(J.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)(L.ue,{className:"w-[400px] sm:w-[540px]",children:[(0,n.jsxs)(L.Tu,{children:[(0,n.jsx)(L.bC,{children:null==e?void 0:e.name}),(0,n.jsx)(L.Ei,{children:null==e?void 0:e.description})]}),(0,n.jsx)("div",{className:"py-6",children:(0,n.jsx)("div",{className:"space-y-4",children:e.config&&e.config.length>0&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"text-md font-medium",children:"Configuration variables:"}),e.config.map((s,i)=>{var l;let r=(null==t?void 0:null===(l=t.config.find(e=>e.name===s.name))||void 0===l?void 0:l.variable)||"";return(0,n.jsx)("div",{className:"space-y-2",children:a?(0,n.jsx)(H,{configItem:s,currentValue:r,variables:eY,onVariableSelect:i=>{let n=eS.map(n=>n.id===e.id?{...n,config:n.config.map(e=>e.name===s.name?{...e,variable:i}:e)}:n);console.log("updated",n),eM(n)}}):(0,n.jsx)("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:"Enable this tool to configure"})},i)})]})})})]})]})]}),(0,n.jsx)(N.r,{checked:a,onCheckedChange:s=>{let i=[...eS];if(s){var n,a;i=[...eS,{id:e.id,type:e.type,config:(null===(n=e.config)||void 0===n?void 0:n.map(e=>({name:e.name,variable:""})))||[]}],(null===(a=e.config)||void 0===a?void 0:a.length)>0&&eF(e.id)}else i=eS.filter(s=>s.id!==e.id);eM(i)}})]})},null==e?void 0:e.id)})]})})})})]})})]})})})})})})})})})]})}var Q=i(93022),q=i(65613),$=i(20653);let ee="force-dynamic";function es(e){let{params:s}=e,{data:i,loading:a,error:l,refetch:r}=(0,t.aM)(p.as,{variables:{id:s.id}});return a?(0,n.jsx)("div",{children:(0,n.jsx)(Q.O,{className:"w-full h-full"})}):l?(0,n.jsxs)(q.bZ,{variant:"destructive",children:[(0,n.jsx)($.LPM,{className:"size-4"}),(0,n.jsx)(q.Cd,{children:"Error"}),(0,n.jsx)(q.X,{children:"Error loading agent."})]}):i?(0,n.jsx)(K,{agent:i.agentById,refetch:r}):(0,n.jsxs)(q.bZ,{variant:"destructive",children:[(0,n.jsx)($.LPM,{className:"size-4"}),(0,n.jsx)(q.Cd,{children:"Error"}),(0,n.jsx)(q.X,{children:"Agent not found."})]})}},65613:function(e,s,i){"use strict";i.d(s,{Cd:function(){return c},X:function(){return o},bZ:function(){return d}});var n=i(57437),a=i(90535),t=i(2265),l=i(94508);let r=(0,a.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",info:"border-info/50 text-info dark:border-info [&>svg]:text-info"}},defaultVariants:{variant:"default"}}),d=t.forwardRef((e,s)=>{let{className:i,variant:a,...t}=e;return(0,n.jsx)("div",{ref:s,role:"alert",className:(0,l.cn)(r({variant:a}),i),...t})});d.displayName="Alert";let c=t.forwardRef((e,s)=>{let{className:i,...a}=e;return(0,n.jsx)("h5",{ref:s,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",i),...a})});c.displayName="AlertTitle";let o=t.forwardRef((e,s)=>{let{className:i,...a}=e;return(0,n.jsx)("div",{ref:s,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",i),...a})});o.displayName="AlertDescription"},74928:function(e,s,i){"use strict";i.d(s,{Fw:function(){return l},wy:function(){return t},zF:function(){return a}});var n=i(88985);let a=n.fC,t=n.wy,l=n.Fw},15681:function(e,s,i){"use strict";i.d(s,{NI:function(){return v},Wi:function(){return u},l0:function(){return c},lX:function(){return f},pf:function(){return j},xJ:function(){return h},zG:function(){return p}});var n=i(57437),a=i(37053),t=i(2265),l=i(29501),r=i(26815),d=i(94508);let c=l.RV,o=t.createContext({}),u=e=>{let{...s}=e;return(0,n.jsx)(o.Provider,{value:{name:s.name},children:(0,n.jsx)(l.Qr,{...s})})},x=()=>{let e=t.useContext(o),s=t.useContext(m),{getFieldState:i,formState:n}=(0,l.Gc)(),a=i(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:r}=s;return{id:r,name:e.name,formItemId:"".concat(r,"-form-item"),formDescriptionId:"".concat(r,"-form-item-description"),formMessageId:"".concat(r,"-form-item-message"),...a}},m=t.createContext({}),h=t.forwardRef((e,s)=>{let{className:i,...a}=e,l=t.useId();return(0,n.jsx)(m.Provider,{value:{id:l},children:(0,n.jsx)("div",{ref:s,className:(0,d.cn)("space-y-2",i),...a})})});h.displayName="FormItem";let f=t.forwardRef((e,s)=>{let{className:i,...a}=e,{error:t,formItemId:l}=x();return(0,n.jsx)(r._,{ref:s,className:(0,d.cn)(t&&"text-destructive",i),htmlFor:l,...a})});f.displayName="FormLabel";let v=t.forwardRef((e,s)=>{let{...i}=e,{error:t,formItemId:l,formDescriptionId:r,formMessageId:d}=x();return(0,n.jsx)(a.g7,{ref:s,id:l,"aria-describedby":t?"".concat(r," ").concat(d):"".concat(r),"aria-invalid":!!t,...i})});v.displayName="FormControl";let j=t.forwardRef((e,s)=>{let{className:i,...a}=e,{formDescriptionId:t}=x();return(0,n.jsx)("p",{ref:s,id:t,className:(0,d.cn)("text-sm text-muted-foreground",i),...a})});j.displayName="FormDescription";let p=t.forwardRef((e,s)=>{let{className:i,children:a,...t}=e,{error:l,formMessageId:r}=x(),c=l?String(null==l?void 0:l.message):a;return c?(0,n.jsx)("p",{ref:s,id:r,className:(0,d.cn)("text-sm font-medium text-destructive",i),...t,children:c}):null});p.displayName="FormMessage"},1828:function(e,s,i){"use strict";i.d(s,{r:function(){return r}});var n=i(57437),a=i(50721),t=i(2265),l=i(94508);let r=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,n.jsx)(a.fC,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...t,ref:s,children:(0,n.jsx)(a.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});r.displayName=a.fC.displayName},12339:function(e,s,i){"use strict";i.d(s,{SP:function(){return c},dr:function(){return d},mQ:function(){return r},nU:function(){return o}});var n=i(57437),a=i(20271),t=i(2265),l=i(94508);let r=a.fC,d=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,n.jsx)(a.aV,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",i),...t})});d.displayName=a.aV.displayName;let c=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,n.jsx)(a.xz,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i),...t})});c.displayName=a.xz.displayName;let o=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,n.jsx)(a.VY,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...t})});o.displayName=a.VY.displayName},22252:function(e,s,i){"use strict";i.d(s,{Z:function(){return n}});let n=(0,i(39763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},53113:function(e,s,i){"use strict";i.d(s,{Z:function(){return n}});let n=(0,i(39763).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},33245:function(e,s,i){"use strict";i.d(s,{Z:function(){return n}});let n=(0,i(39763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},15863:function(e,s,i){"use strict";i.d(s,{Z:function(){return n}});let n=(0,i(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},49137:function(e,s,i){"use strict";i.d(s,{Z:function(){return n}});let n=(0,i(39763).Z)("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]])},29374:function(e,s,i){"use strict";i.d(s,{Z:function(){return n}});let n=(0,i(39763).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81706:function(e,s,i){"use strict";i.d(s,{Z:function(){return n}});let n=(0,i(39763).Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]])},6394:function(e,s,i){"use strict";i.d(s,{f:function(){return r}});var n=i(2265),a=i(66840),t=i(57437),l=n.forwardRef((e,s)=>(0,t.jsx)(a.WV.label,{...e,ref:s,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||(null===(i=e.onMouseDown)||void 0===i||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var r=l},20271:function(e,s,i){"use strict";i.d(s,{VY:function(){return R},aV:function(){return z},fC:function(){return I},xz:function(){return D}});var n=i(2265),a=i(6741),t=i(73966),l=i(1353),r=i(71599),d=i(66840),c=i(29114),o=i(80886),u=i(99255),x=i(57437),m="Tabs",[h,f]=(0,t.b)(m,[l.Pc]),v=(0,l.Pc)(),[j,p]=h(m),g=n.forwardRef((e,s)=>{let{__scopeTabs:i,value:n,onValueChange:a,defaultValue:t,orientation:l="horizontal",dir:r,activationMode:h="automatic",...f}=e,v=(0,c.gm)(r),[p,g]=(0,o.T)({prop:n,onChange:a,defaultProp:null!=t?t:"",caller:m});return(0,x.jsx)(j,{scope:i,baseId:(0,u.M)(),value:p,onValueChange:g,orientation:l,dir:v,activationMode:h,children:(0,x.jsx)(d.WV.div,{dir:v,"data-orientation":l,...f,ref:s})})});g.displayName=m;var b="TabsList",y=n.forwardRef((e,s)=>{let{__scopeTabs:i,loop:n=!0,...a}=e,t=p(b,i),r=v(i);return(0,x.jsx)(l.fC,{asChild:!0,...r,orientation:t.orientation,dir:t.dir,loop:n,children:(0,x.jsx)(d.WV.div,{role:"tablist","aria-orientation":t.orientation,...a,ref:s})})});y.displayName=b;var N="TabsTrigger",w=n.forwardRef((e,s)=>{let{__scopeTabs:i,value:n,disabled:t=!1,...r}=e,c=p(N,i),o=v(i),u=Z(c.baseId,n),m=A(c.baseId,n),h=n===c.value;return(0,x.jsx)(l.ck,{asChild:!0,...o,focusable:!t,active:h,children:(0,x.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":t?"":void 0,disabled:t,id:u,...r,ref:s,onMouseDown:(0,a.M)(e.onMouseDown,e=>{t||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,a.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,a.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||t||!e||c.onValueChange(n)})})})});w.displayName=N;var C="TabsContent",k=n.forwardRef((e,s)=>{let{__scopeTabs:i,value:a,forceMount:t,children:l,...c}=e,o=p(C,i),u=Z(o.baseId,a),m=A(o.baseId,a),h=a===o.value,f=n.useRef(h);return n.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(r.z,{present:t||h,children:i=>{let{present:n}=i;return(0,x.jsx)(d.WV.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!n,id:m,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:n&&l})}})});function Z(e,s){return"".concat(e,"-trigger-").concat(s)}function A(e,s){return"".concat(e,"-content-").concat(s)}k.displayName=C;var I=g,z=y,D=w,R=k}},function(e){e.O(0,[8310,9851,7629,7093,6148,847,1942,7648,7823,8068,5799,4567,605,85,4957,7398,1785,3702,3397,7119,7963,6373,3832,7907,2971,2117,1744],function(){return e(e.s=92076)}),_N_E=e.O()}]);
//# sourceMappingURL=page-7737da0d7329baf0.js.map