(()=>{var e={};e.id=6050,e.ids=[6050],e.modules={57343:e=>{"use strict";e.exports=require("graphql")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},8678:e=>{"use strict";e.exports=import("pg")},48644:e=>{"use strict";e.exports=import("prettier/plugins/babel")},93801:e=>{"use strict";e.exports=import("prettier/plugins/estree")},45747:e=>{"use strict";e.exports=import("prettier/standalone")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},57409:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>x,routeModule:()=>g,tree:()=>h}),s(21114),s(76738);var a=s(71197);s(35866);var l=s(23191),n=s(88716),i=s(37922),o=s.n(i),d=s(95231),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);s.d(t,c);var u=e([a]);a=(u.then?(await u)():u)[0];let h=["",{children:["(application)",{children:["data",{children:["[[...query]]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21114)),"/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/data/[[...query]]/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,76738)),"/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/data/[[...query]]/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71197)),"/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/data/[[...query]]/page.tsx"],m="/(application)/data/[[...query]]/page",p={require:s,loadChunk:()=>Promise.resolve()},g=new l.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(application)/data/[[...query]]/page",pathname:"/data/[[...query]]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}});r()}catch(e){r(e)}})},79485:(e,t,s)=>{Promise.resolve().then(s.bind(s,63978))},14923:(e,t,s)=>{Promise.resolve().then(s.bind(s,26533))},63978:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eB});var r=s(10326),a=s(17577),l=s(76812),n=s(39167),i=s(18753),o=s(86508),d=s(11798),c=s(83855),u=s(23015),h=s(98091),x=s(40900),m=s(35047),p=s(15211),g=s(90772),f=s(53313),j=s(37859),v=s(65685),y=s(65304),b=s(15940),N=s(34789),w=s(77863),k=s(98181);let C=[{id:"select",header:({table:e})=>r.jsx(f.X,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:e})=>r.jsx(f.X,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row",className:"translate-y-[2px] max-w-[50px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"Description",cell:({row:e})=>(console.log("original",e.original),(0,r.jsxs)("div",{className:"flex flex-column grid grid-cols-1",children:[r.jsx("span",{className:"max-w-[500px] truncate font-medium w-full",children:e.original.name?e.original.name:e.original.text.slice(0,200)||"Untitled"}),r.jsx("small",{className:"mt-1",children:(0,k.WU)(new Date(e.original.createdAt),"PP")})]}))}];var z=s(43273),S=s(88307),E=s(94019),_=s(54432);function P({onSearch:e=e=>console.log(`Search query: ${e}`),placeholder:t="Search...",className:s=""}){let[l,n]=(0,a.useState)("");return r.jsx("form",{onSubmit:t=>{t.preventDefault(),e(l)},className:`relative ${s}`,children:(0,r.jsxs)("div",{className:"relative flex items-center w-full",children:[r.jsx(S.Z,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),r.jsx(_.I,{type:"text",placeholder:t,value:l,onChange:e=>n(e.target.value),className:"pl-10 pr-10","aria-label":"Search input"}),l&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"absolute right-10 text-xs text-muted-foreground",children:"Press Enter â†µ"}),r.jsx(g.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 h-full rounded-l-none",onClick:()=>{n(""),e("")},"aria-label":"Clear search",children:r.jsx(E.Z,{className:"h-4 w-4"})})]})]})})}var R=s(42270);function I({activeFolder:e,activeItem:t,archived:s}){let k=(0,m.usePathname)(),S=(0,m.useSearchParams)(),[E,_]=(0,a.useState)(S.get("page")?parseInt(S.get("page")):1),I=S.get("search"),{user:M}=(0,a.useContext)(p.S),{toast:D}=(0,N.pm)(),[O,L]=(0,a.useState)({...M.company}),T=(0,m.useRouter)(),[q,A]=a.useState({}),[Z,F]=a.useState({}),[$,U]=a.useState([]),[G,W]=a.useState([]),{loading:V,data:B,refetch:J,previousData:X,error:H}=(0,n.aM)((0,R.P3)(e,[]),{fetchPolicy:"no-cache",nextFetchPolicy:"network-only",variables:{context:e,page:E??1,limit:10,sort:{field:"updatedAt",direction:"DESC"},filters:{archived:{eq:s},...I?{name:{contains:`${I}`}}:{}}}}),K=B?.[e+R.Md],Y=X?.[e+R.Md],[Q,ee]=(0,i.D)((0,R.ty)(e),{onCompleted:()=>{J()}}),[et,es]=(0,i.D)((0,R.mN)(e,[]),{onCompleted:()=>{J()}}),er=a.useMemo(()=>[],[]),{limit:ea,onPaginationChange:el,skip:en,pagination:ei}=function(){let[e,t]=(0,a.useState)({pageSize:5,pageIndex:0}),{pageSize:s,pageIndex:r}=e;return{limit:s,onPaginationChange:t,pagination:e,skip:s*r}}(),eo=(0,o.b7)({data:V&&Y?.items?Y.items:K?.items??er,pageCount:K?.pageInfo?.pageCount??-1,columns:C,state:{sorting:G,columnVisibility:Z,rowSelection:q,columnFilters:$},enableRowSelection:!0,onRowSelectionChange:A,onSortingChange:W,onColumnFiltersChange:U,onColumnVisibilityChange:F,getCoreRowModel:(0,d.sC)(),getFilteredRowModel:(0,d.vL)(),getPaginationRowModel:(0,d.G_)(),getSortedRowModel:(0,d.tj)(),getFacetedRowModel:(0,d.o6)(),getFacetedUniqueValues:(0,d.JG)(),manualPagination:!0,onPaginationChange:el}),[ed,ec]=(0,i.D)((0,R.tO)(e),{onCompleted:t=>{console.log("data",t);let s=t?t[e+R.Wc]?.item?.id:void 0;s&&T.push(`/data/${e}/${s}`),J()}}),eu=({page:e,search:t})=>{_(e??1);let s=new URLSearchParams;e&&s.set("page",e.toString()),t&&s.set("search",t),T.push(`${k}?${s.toString()}`)},eh=t=>{s?T.push(`/data/${e}/archived/${t}?${S.toString()}`):T.push(`/data/${e}/${t}?${S.toString()}`)};return H?(0,r.jsxs)(z.bZ,{className:"p-4",variant:"destructive",children:[r.jsx(l.LPM,{className:"size-4"}),r.jsx(z.Cd,{children:"Error"}),r.jsx(z.X,{children:H?.message||": unknown"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-flow-col grid-cols-[auto_minmax(0,1fr)] grid-rows-1 bg-background/95 p-4 backdrop-blur gap-2 supports-[backdrop-filter]:bg-background/60",children:[r.jsx(f.X,{checked:eo.getIsAllPageRowsSelected()||eo.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>eo.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",className:"my-auto mr-3 translate-y-[2px]"}),r.jsx("div",{className:"relative",children:r.jsx(P,{onSearch:e=>{eu({page:1,search:e})}})}),r.jsx(g.z,{onClick:()=>{ed({variables:{input:{name:"New item",source:"manual",textlength:0,company:O.id}}})},disabled:ec.loading||s,className:"ml-2 ml-auto lg:flex",children:ec.loading?r.jsx(j.g,{}):r.jsx(c.Z,{size:18})})]}),eo.getIsSomeRowsSelected()||eo.getIsAllRowsSelected()?r.jsx("div",{className:"flex px-4 pb-4",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(g.z,{className:"ml-2",onClick:()=>{let e=[];eo.getSelectedRowModel().rows.forEach(t=>{e.push(Q({variables:{id:t.original.id,input:{archived:!1}}}))}),Promise.all(e).then(()=>{eo.resetRowSelection(),D({title:"Unarchived items",description:"We unarchived "+e.length+" items."})})},variant:"secondary",disabled:ee.loading,children:[ee.loading?r.jsx(j.g,{}):r.jsx(u.Z,{className:"size-4"}),r.jsx("span",{className:"ml-2",children:"Unarchive selected"})]}),(0,r.jsxs)(g.z,{className:"ml-2",onClick:()=>{let t=[];eo.getSelectedRowModel().rows.forEach(s=>{t.push(et({variables:{context:e,id:s.original.id}}))}),Promise.all(t).then(()=>{eo.resetRowSelection(),D({title:"Deleted items",description:"We deleted "+t.length+" items."})})},variant:"secondary",disabled:es.loading,children:[es.loading?r.jsx(j.g,{}):r.jsx(h.Z,{className:"size-4"}),r.jsx("span",{className:"ml-2",children:"Delete selected"})]})]}):(0,r.jsxs)(g.z,{className:"ml-2",onClick:()=>{let e=[];eo.getSelectedRowModel().rows.forEach(t=>{e.push(Q({variables:{id:t.original?.id,input:{archived:!0}}}))}),Promise.all(e).then(()=>{eo.resetRowSelection(),D({title:"Archived items",description:"We archived "+e.length+" items."})})},variant:"secondary",disabled:ee.loading,children:[ee.loading?r.jsx(j.g,{}):r.jsx(x.Z,{className:"size-4"}),r.jsx("span",{className:"ml-2",children:"Archive selected"})]})}):null,V?r.jsx(v.x,{className:"h-screen",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2 p-4 pt-0",children:[r.jsx(y.O,{className:"mb-2 h-[100px] w-full rounded-lg"}),r.jsx(y.O,{className:"mb-2 h-[100px] w-full rounded-lg"}),r.jsx(y.O,{className:"mb-2 h-[100px] w-full rounded-lg"}),r.jsx(y.O,{className:"mb-2 h-[100px] w-full rounded-lg"}),r.jsx(y.O,{className:"mb-2 h-[100px] w-full rounded-lg"}),r.jsx(y.O,{className:"h-[100px] w-full rounded-lg"})]})}):(0,r.jsxs)("div",{className:"flex max-h-[75vh] flex-col",children:[r.jsx(v.x,{className:"h-screen grow",children:r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"border-y",children:r.jsx(b.iA,{children:r.jsx(b.RM,{children:eo.getRowModel().rows?.length?eo.getRowModel().rows.map(e=>r.jsx(b.SC,{className:(0,w.cn)(t===e.original.id?"bg-secondary dark:text-white":""),"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map((t,s)=>s>0?r.jsx(b.pj,{className:"cursor-pointer",onClick:()=>{eh(e.original.id)},children:(0,o.ie)(t.column.columnDef.cell,t.getContext())},t.id):r.jsx(b.pj,{children:(0,o.ie)(t.column.columnDef.cell,t.getContext())},t.id))},e.id)):r.jsx(b.SC,{children:r.jsx(b.pj,{colSpan:C.length,className:"h-24 text-center",children:"No results."})})})})})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between px-2 pb-2",children:[(0,r.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[eo.getFilteredSelectedRowModel().rows.length," of"," ",eo.getFilteredRowModel().rows.length," row(s) selected (total"," ",K?.pageInfo.itemCount," items)."]}),r.jsx("div",{className:"flex items-center space-x-6 lg:space-x-8",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(g.z,{variant:"outline",className:"hidden size-8 p-0 lg:flex",onClick:()=>{eu({page:1,search:I??void 0})},disabled:!K?.pageInfo.hasPreviousPage,children:[r.jsx("span",{className:"sr-only",children:"Go to first page"}),r.jsx(l.kRt,{className:"size-4"})]}),(0,r.jsxs)(g.z,{variant:"outline",className:"size-8 p-0",onClick:()=>{console.log("itemsData.data?.pageInfo.hasPreviousPage",K?.pageInfo.hasPreviousPage),eu({page:K?.pageInfo.hasPreviousPage?E-1:void 0,search:I??void 0})},disabled:!K?.pageInfo.hasPreviousPage||V,children:[r.jsx("span",{className:"sr-only",children:"Go to previous page"}),r.jsx(l.wyc,{className:"size-4"})]}),(0,r.jsxs)(g.z,{variant:"outline",className:"size-8 p-0",onClick:()=>{eu({page:K?.pageInfo.hasNextPage?E+1:void 0,search:I??void 0})},disabled:!K?.pageInfo.hasNextPage||V,children:[r.jsx("span",{className:"sr-only",children:"Go to next page"}),r.jsx(l.XCv,{className:"size-4"})]})]})})]})]})]})}var M=s(567),D=s(76557);let O=(0,D.Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),{createElement:L,createContext:T,createRef:q,forwardRef:A,useCallback:Z,useContext:F,useEffect:$,useImperativeHandle:U,useLayoutEffect:G,useMemo:W,useRef:V,useState:B}=a,J=a["useId".toString()],X=T(null);X.displayName="PanelGroupContext";let H="function"==typeof J?J:()=>null,K=0;function Y(e=null){let t=H(),s=V(e||t||null);return null===s.current&&(s.current=""+K++),null!=e?e:s.current}function Q({children:e,className:t="",collapsedSize:s,collapsible:r,defaultSize:a,forwardedRef:l,id:n,maxSize:i,minSize:o,onCollapse:d,onExpand:c,onResize:u,order:h,style:x,tagName:m="div",...p}){let g=F(X);if(null===g)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:f,expandPanel:j,getPanelSize:v,getPanelStyle:y,groupId:b,isPanelCollapsed:N,reevaluatePanelConstraints:w,registerPanel:k,resizePanel:C,unregisterPanel:z}=g,S=Y(n),E=V({callbacks:{onCollapse:d,onExpand:c,onResize:u},constraints:{collapsedSize:s,collapsible:r,defaultSize:a,maxSize:i,minSize:o},id:S,idIsFromProps:void 0!==n,order:h});V({didLogMissingDefaultSizeWarning:!1}),U(l,()=>({collapse:()=>{f(E.current)},expand:()=>{j(E.current)},getId:()=>S,getSize:()=>v(E.current),isCollapsed:()=>N(E.current),isExpanded:()=>!N(E.current),resize:e=>{C(E.current,e)}}),[f,j,v,N,S,C]);let _=y(E.current,a);return L(m,{...p,children:e,className:t,style:{..._,...x},"data-panel":"","data-panel-id":S,"data-panel-group-id":b,"data-panel-collapsible":void 0,"data-panel-size":void 0})}let ee=A((e,t)=>L(Q,{...e,forwardedRef:t}));function et(e,t="Assertion failed!"){if(!e)throw console.error(t),Error(t)}function es(e,t,s=10){let r=(e=parseFloat(e.toFixed(s)))-(t=parseFloat(t.toFixed(s)));return 0===r?0:r>0?1:-1}function er(e,t,s){return 0===es(e,t,s)}function ea({panelConstraints:e,panelIndex:t,size:s}){let r=e[t];et(null!=r);let{collapsedSize:a=0,collapsible:l,maxSize:n=100,minSize:i=0}=r;return 0>es(s,i)&&(s=l&&0>es(s,(a+i)/2)?a:i),s=parseFloat((s=Math.min(n,s)).toFixed(10))}function el({delta:e,layout:t,panelConstraints:s,pivotIndices:r,trigger:a}){if(er(e,0))return t;let l=[...t],[n,i]=r;et(null!=n),et(null!=i);let o=0;if("keyboard"===a){{let r=e<0?i:n,a=s[r];if(et(a),a.collapsible){let a=t[r];et(null!=a);let l=s[r];et(l);let{collapsedSize:n=0,minSize:i=0}=l;if(er(a,n)){let t=i-a;es(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{let r=e<0?n:i,a=s[r];et(a);let{collapsible:l}=a;if(l){let a=t[r];et(null!=a);let l=s[r];et(l);let{collapsedSize:n=0,minSize:i=0}=l;if(er(a,i)){let t=a-n;es(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{let r=e<0?1:-1,a=e<0?i:n,l=0;for(;;){let e=t[a];if(et(null!=e),l+=ea({panelConstraints:s,panelIndex:a,size:100})-e,(a+=r)<0||a>=s.length)break}let o=Math.min(Math.abs(e),Math.abs(l));e=e<0?0-o:o}{let r=e<0?n:i;for(;r>=0&&r<s.length;){let a=Math.abs(e)-Math.abs(o),n=t[r];et(null!=n);let i=ea({panelConstraints:s,panelIndex:r,size:n-a});if(!er(n,i)&&(o+=n-i,l[r]=i,o.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?r--:r++}}if(er(o,0))return t;{let r=e<0?i:n,a=t[r];et(null!=a);let d=a+o,c=ea({panelConstraints:s,panelIndex:r,size:d});if(l[r]=c,!er(c,d)){let t=d-c,r=e<0?i:n;for(;r>=0&&r<s.length;){let a=l[r];et(null!=a);let n=ea({panelConstraints:s,panelIndex:r,size:a+t});if(er(a,n)||(t-=n-a,l[r]=n),er(t,0))break;e>0?r--:r++}}}return er(l.reduce((e,t)=>t+e,0),100)?l:t}function en(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function ei(e,t,s=document){let r=en(e,s).findIndex(e=>e.getAttribute("data-panel-resize-handle-id")===t);return null!=r?r:null}function eo(e,t,s){let r=ei(e,t,s);return null!=r?[r,r+1]:[-1,-1]}function ed(e,t=document){var s;return t instanceof HTMLElement&&(null==t?void 0:null===(s=t.dataset)||void 0===s?void 0:s.panelGroupId)==e?t:t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`)||null}function ec(e,t=document){return t.querySelector(`[data-panel-resize-handle-id="${e}"]`)||null}function eu(e){return"keydown"===e.type}function eh(e){return e.type.startsWith("mouse")}function ex(e){return e.type.startsWith("touch")}function em(e,t){let s="horizontal"===e;if(eh(t))return s?t.clientX:t.clientY;if(ex(t)){let e=t.touches[0];return et(e),s?e.screenX:e.screenY}throw Error(`Unsupported event type "${t.type}"`)}function ep(e,t,s){t.forEach((t,r)=>{let a=e[r];et(a);let{callbacks:l,constraints:n,id:i}=a,{collapsedSize:o=0,collapsible:d}=n,c=s[i];if(null==c||t!==c){s[i]=t;let{onCollapse:e,onExpand:r,onResize:a}=l;a&&a(t,c),d&&(e||r)&&(r&&(null==c||c===o)&&t!==o&&r(),e&&(null==c||c!==o)&&t===o&&e())}})}function eg(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!=t[s])return!1;return!0}Q.displayName="Panel",ee.displayName="forwardRef(Panel)";let ef=null,ej=null;function ev(e){switch(e){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function ey(e){if(ef===e)return;ef=e;let t=ev(e);null===ej&&(ej=document.createElement("style"),document.head.appendChild(ej)),ej.innerHTML=`*{cursor: ${t}!important;}`}function eb(e){try{if("undefined"!=typeof localStorage)e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function eN(e){return`react-resizable-panels:${e}`}function ew(e,t,s,r,a){var l;let n=eN(e),i=t.map(e=>{let{constraints:t,id:s,idIsFromProps:r,order:a}=e;return r?s:a?`${a}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(","),o=null!==(l=function(e,t){try{let s=eN(e),r=t.getItem(s);if(r){let e=JSON.parse(r);if("object"==typeof e&&null!=e)return e}}catch(e){}return null}(e,a))&&void 0!==l?l:{};o[i]={expandToSizes:Object.fromEntries(s.entries()),layout:r};try{a.setItem(n,JSON.stringify(o))}catch(e){console.error(e)}}let ek={getItem:e=>(eb(ek),ek.getItem(e)),setItem:(e,t)=>{eb(ek),ek.setItem(e,t)}},eC={};function ez({autoSaveId:e=null,children:t,className:s="",direction:r,forwardedRef:a,id:l=null,onLayout:n=null,keyboardResizeBy:i=null,storage:o=ek,style:d,tagName:c="div",...u}){let h=Y(l),x=V(null),[m,p]=B(null),[g,f]=B([]),j=V({}),v=V(new Map),y=V(0),b=V({autoSaveId:e,direction:r,dragState:m,id:h,keyboardResizeBy:i,onLayout:n,storage:o}),N=V({layout:g,panelDataArray:[],panelDataArrayChanged:!1});V({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),U(a,()=>({getId:()=>b.current.id,getLayout:()=>{let{layout:e}=N.current;return e},setLayout:e=>{let{onLayout:t}=b.current,{layout:s,panelDataArray:r}=N.current,a=function({layout:e,panelConstraints:t}){let s=[...e],r=s.reduce((e,t)=>e+t,0);if(s.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${s.map(e=>`${e}%`).join(", ")}`);if(!er(r,100))for(let e=0;e<t.length;e++){let t=s[e];et(null!=t);let a=100/r*t;s[e]=a}let a=0;for(let e=0;e<t.length;e++){let r=s[e];et(null!=r);let l=ea({panelConstraints:t,panelIndex:e,size:r});r!=l&&(a+=r-l,s[e]=l)}if(!er(a,0))for(let e=0;e<t.length;e++){let r=s[e];et(null!=r);let l=ea({panelConstraints:t,panelIndex:e,size:r+a});if(r!==l&&(a-=l-r,s[e]=l,er(a,0)))break}return s}({layout:e,panelConstraints:r.map(e=>e.constraints)});!function(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}(s,a)&&(f(a),N.current.layout=a,t&&t(a),ep(r,a,j.current))}}),[]),function({committedValuesRef:e,eagerValuesRef:t,groupId:s,layout:r,panelDataArray:a,panelGroupElement:l,setLayout:n}){V({didWarnAboutMissingResizeHandle:!1}),$(()=>{if(!l)return;let e=t.current;et(e);let{panelDataArray:a}=e;et(null!=ed(s,l),`No group found for id "${s}"`);let i=en(s,l);et(i);let o=i.map(e=>{let t=e.getAttribute("data-panel-resize-handle-id");et(t);let[i,o]=function(e,t,s,r=document){var a,l,n,i;let o=ec(t,r),d=en(e,r),c=o?d.indexOf(o):-1;return[null!==(a=null===(l=s[c])||void 0===l?void 0:l.id)&&void 0!==a?a:null,null!==(n=null===(i=s[c+1])||void 0===i?void 0:i.id)&&void 0!==n?n:null]}(s,t,a,l);if(null==i||null==o)return()=>{};let d=e=>{if(!e.defaultPrevented&&"Enter"===e.key){e.preventDefault();let o=a.findIndex(e=>e.id===i);if(o>=0){let e=a[o];et(e);let i=r[o],{collapsedSize:d=0,collapsible:c,minSize:u=0}=e.constraints;if(null!=i&&c){let e=el({delta:er(i,d)?u-d:d-i,layout:r,panelConstraints:a.map(e=>e.constraints),pivotIndices:eo(s,t,l),trigger:"keyboard"});r!==e&&n(e)}}}};return e.addEventListener("keydown",d),()=>{e.removeEventListener("keydown",d)}});return()=>{o.forEach(e=>e())}},[l,e,t,s,r,a,n])}({committedValuesRef:b,eagerValuesRef:N,groupId:h,layout:g,panelDataArray:N.current.panelDataArray,setLayout:f,panelGroupElement:x.current}),$(()=>{let{panelDataArray:t}=N.current;if(e){if(0===g.length||g.length!==t.length)return;let s=eC[e];null==s&&(s=function(e,t=10){let s=null;return(...r)=>{null!==s&&clearTimeout(s),s=setTimeout(()=>{e(...r)},t)}}(ew,100),eC[e]=s),s(e,[...t],new Map(v.current),g,o)}},[e,g,o]),$(()=>{});let w=Z(e=>{let{onLayout:t}=b.current,{layout:s,panelDataArray:r}=N.current;if(e.constraints.collapsible){let a=r.map(e=>e.constraints),{collapsedSize:l=0,panelSize:n,pivotIndices:i}=e_(r,e,s);if(et(null!=n),n!==l){v.current.set(e.id,n);let o=el({delta:eE(r,e)===r.length-1?n-l:l-n,layout:s,panelConstraints:a,pivotIndices:i,trigger:"imperative-api"});eg(s,o)||(f(o),N.current.layout=o,t&&t(o),ep(r,o,j.current))}}},[]),k=Z(e=>{let{onLayout:t}=b.current,{layout:s,panelDataArray:r}=N.current;if(e.constraints.collapsible){let a=r.map(e=>e.constraints),{collapsedSize:l=0,panelSize:n,minSize:i=0,pivotIndices:o}=e_(r,e,s);if(n===l){let l=v.current.get(e.id),d=null!=l&&l>=i?l:i,c=el({delta:eE(r,e)===r.length-1?n-d:d-n,layout:s,panelConstraints:a,pivotIndices:o,trigger:"imperative-api"});eg(s,c)||(f(c),N.current.layout=c,t&&t(c),ep(r,c,j.current))}}},[]),C=Z(e=>{let{layout:t,panelDataArray:s}=N.current,{panelSize:r}=e_(s,e,t);return et(null!=r),r},[]),z=Z((e,t)=>{let{panelDataArray:s}=N.current,r=eE(s,e);return function({defaultSize:e,dragState:t,layout:s,panelData:r,panelIndex:a,precision:l=3}){let n=s[a];return{flexBasis:0,flexGrow:null==n?null!=e?e:"1":1===r.length?"1":n.toPrecision(l),flexShrink:1,overflow:"hidden",pointerEvents:null!==t?"none":void 0}}({defaultSize:t,dragState:m,layout:g,panelData:s,panelIndex:r})},[m,g]),S=Z(e=>{let{layout:t,panelDataArray:s}=N.current,{collapsedSize:r=0,collapsible:a,panelSize:l}=e_(s,e,t);return!0===a&&l===r},[]),E=Z(e=>{let{layout:t,panelDataArray:s}=N.current,{collapsedSize:r=0,collapsible:a,panelSize:l}=e_(s,e,t);return et(null!=l),!a||l>r},[]),_=Z(e=>{let{panelDataArray:t}=N.current;t.push(e),t.sort((e,t)=>{let s=e.order,r=t.order;return null==s&&null==r?0:null==s?-1:null==r?1:s-r}),N.current.panelDataArrayChanged=!0},[]),P=Z(e=>function(t){t.preventDefault();let s=x.current;if(!s)return()=>null;let{direction:r,dragState:a,id:l,keyboardResizeBy:n,onLayout:i}=b.current,{layout:o,panelDataArray:d}=N.current,{initialLayout:c}=null!=a?a:{},u=eo(l,e,s),h=function(e,t,s,r,a,l){if(eu(e)){let t="horizontal"===s,r=0;r=e.shiftKey?100:null!=a?a:10;let l=0;switch(e.key){case"ArrowDown":l=t?0:r;break;case"ArrowLeft":l=t?-r:0;break;case"ArrowRight":l=t?r:0;break;case"ArrowUp":l=t?0:-r;break;case"End":l=100;break;case"Home":l=-100}return l}return null==r?0:function(e,t,s,r,a){let l="horizontal"===s,n=ec(t,a);et(n);let i=n.getAttribute("data-panel-group-id");et(i);let{initialCursorPosition:o}=r,d=em(s,e),c=ed(i,a);et(c);let u=c.getBoundingClientRect();return(d-o)/(l?u.width:u.height)*100}(e,t,s,r,l)}(t,e,r,a,n,s);if(0===h)return;let m="horizontal"===r;"rtl"===document.dir&&m&&(h=-h);let p=el({delta:h,layout:null!=c?c:o,panelConstraints:d.map(e=>e.constraints),pivotIndices:u,trigger:eu(t)?"keyboard":"mouse-or-touch"}),g=!eg(o,p);(eh(t)||ex(t))&&y.current!=h&&(y.current=h,g?ey(m?"horizontal":"vertical"):m?ey(h<0?"horizontal-min":"horizontal-max"):ey(h<0?"vertical-min":"vertical-max")),g&&(f(p),N.current.layout=p,i&&i(p),ep(d,p,j.current))},[]),R=Z((e,t)=>{let{onLayout:s}=b.current,{layout:r,panelDataArray:a}=N.current,l=a.map(e=>e.constraints),{panelSize:n,pivotIndices:i}=e_(a,e,r);et(null!=n);let o=el({delta:eE(a,e)===a.length-1?n-t:t-n,layout:r,panelConstraints:l,pivotIndices:i,trigger:"imperative-api"});eg(r,o)||(f(o),N.current.layout=o,s&&s(o),ep(a,o,j.current))},[]),I=Z((e,t)=>{let{layout:s,panelDataArray:r}=N.current,{collapsedSize:a=0,collapsible:l}=t,{collapsedSize:n=0,collapsible:i,maxSize:o=100,minSize:d=0}=e.constraints,{panelSize:c}=e_(r,e,s);et(null!=c),l&&i&&c===a?a!==n&&R(e,n):c<d?R(e,d):c>o&&R(e,o)},[R]),M=Z((e,t)=>{let{direction:s}=b.current,{layout:r}=N.current;if(!x.current)return;let a=ec(e,x.current);et(a);let l=em(s,t);p({dragHandleId:e,dragHandleRect:a.getBoundingClientRect(),initialCursorPosition:l,initialLayout:r})},[]),D=Z(()=>{null!==ej&&(document.head.removeChild(ej),ef=null,ej=null),p(null)},[]),O=Z(e=>{let{panelDataArray:t}=N.current,s=eE(t,e);s>=0&&(t.splice(s,1),delete j.current[e.id],N.current.panelDataArrayChanged=!0)},[]),T=W(()=>({collapsePanel:w,direction:r,dragState:m,expandPanel:k,getPanelSize:C,getPanelStyle:z,groupId:h,isPanelCollapsed:S,isPanelExpanded:E,reevaluatePanelConstraints:I,registerPanel:_,registerResizeHandle:P,resizePanel:R,startDragging:M,stopDragging:D,unregisterPanel:O,panelGroupElement:x.current}),[w,m,r,k,C,z,h,S,E,I,_,P,R,M,D,O]);return L(X.Provider,{value:T},L(c,{...u,children:t,className:s,style:{display:"flex",flexDirection:"horizontal"===r?"row":"column",height:"100%",overflow:"hidden",width:"100%",...d},ref:x,"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":h}))}let eS=A((e,t)=>L(ez,{...e,forwardedRef:t}));function eE(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function e_(e,t,s){let r=eE(e,t),a=r===e.length-1,l=s[r];return{...t.constraints,panelSize:l,pivotIndices:a?[r-1,r]:[r,r+1]}}function eP({children:e=null,className:t="",disabled:s=!1,id:r,onDragging:a,style:l={},tabIndex:n=0,tagName:i="div",...o}){let d=V(null),c=V({onDragging:a});$(()=>{c.current.onDragging=a});let u=F(X);if(null===u)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:h,dragState:x,groupId:m,registerResizeHandle:p,startDragging:g,stopDragging:f,panelGroupElement:j}=u,v=Y(r),y=(null==x?void 0:x.dragHandleId)===v,[b,N]=B(!1),[w,k]=B(null),C=Z(()=>{let e=d.current;et(e),e.blur(),f();let{onDragging:t}=c.current;t&&t(!1)},[f]);$(()=>{if(s)k(null);else{let e=p(v);k(()=>e)}},[s,v,p]),$(()=>{if(s||null==w||!y)return;let e=e=>{w(e)},t=e=>{w(e)},r=d.current;et(r);let a=r.ownerDocument;return a.body.addEventListener("contextmenu",C),a.body.addEventListener("mousemove",e),a.body.addEventListener("touchmove",e),a.body.addEventListener("mouseleave",t),window.addEventListener("mouseup",C),window.addEventListener("touchend",C),()=>{a.body.removeEventListener("contextmenu",C),a.body.removeEventListener("mousemove",e),a.body.removeEventListener("touchmove",e),a.body.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",C),window.removeEventListener("touchend",C)}},[h,s,y,w,C]),function({disabled:e,handleId:t,resizeHandler:s,panelGroupElement:r}){$(()=>{if(e||null==s||null==r)return;let a=ec(t,r);if(null==a)return;let l=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),s(e);break;case"F6":{e.preventDefault();let s=a.getAttribute("data-panel-group-id");et(s);let l=en(s,r),n=ei(s,t,r);et(null!==n);let i=e.shiftKey?n>0?n-1:l.length-1:n+1<l.length?n+1:0;l[i].focus()}}};return a.addEventListener("keydown",l),()=>{a.removeEventListener("keydown",l)}},[r,e,t,s])}({disabled:s,handleId:v,resizeHandler:w,panelGroupElement:j});let z={cursor:ev(h),touchAction:"none",userSelect:"none"};return L(i,{...o,children:e,className:t,onBlur:()=>N(!1),onFocus:()=>N(!0),onMouseDown:e=>{g(v,e.nativeEvent);let t=c.current;et(t);let{onDragging:s}=t;s&&s(!0)},onMouseUp:C,onTouchCancel:C,onTouchEnd:C,onTouchStart:e=>{g(v,e.nativeEvent);let t=c.current;et(t);let{onDragging:s}=t;s&&s(!0)},ref:d,role:"separator",style:{...z,...l},tabIndex:n,"data-panel-group-direction":h,"data-panel-group-id":m,"data-resize-handle":"","data-resize-handle-active":y?"pointer":b?"keyboard":void 0,"data-panel-resize-handle-enabled":!s,"data-panel-resize-handle-id":v})}ez.displayName="PanelGroup",eS.displayName="forwardRef(PanelGroup)",eP.displayName="PanelResizeHandle";let eR=({className:e,...t})=>r.jsx(eS,{className:(0,w.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),eI=({withHandle:e,className:t,...s})=>r.jsx(eP,{className:(0,w.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...s,children:e&&r.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:r.jsx(O,{className:"size-2.5"})})});var eM=s(8281),eD=s(79210),eO=s(68232),eL=s(44389),eT=s(86333),eq=s(3240),eA=s(65983),eZ=s(42924);let eF=(0,D.Z)("ArchiveX",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"m9.5 17 5-5",key:"nakeu6"}],["path",{d:"m9.5 12 5 5",key:"1hccrj"}]]);var e$=s(88378),eU=s(75909),eG=s(90434);let eW=({index:e,folder:t,edit:s,indented:a,children:l})=>(0,r.jsxs)("div",{className:"flex flex-col   ",children:[(0,r.jsxs)("div",{className:(0,w.cn)((0,g.d)({variant:t.variant,size:"sm"}),a?"pl-5":null,t.active?"dark:bg-muted dark:text-white dark:hover:bg-muted dark:hover:text-white":null,"justify-start"),children:[(0,r.jsxs)(eG.default,{className:"flex",href:t.href||"",children:[r.jsx(t.icon,{className:"mr-2 size-4"}),!t.icon&&t.label,null!==t.icon&&r.jsx("span",{className:(0,w.cn)("ml-0 overflow-hidden text-ellipsis max-w-[170px]","default"===t.variant&&"text-background dark:text-white"),children:t.label})]},e),s&&r.jsx(eL.Z,{onClick:()=>{s()},className:"ml-auto size-4 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer"})]}),r.jsx("div",{children:l})]}),eV=({activeFolder:e,activeArchived:t,activeSettings:s})=>{let{data:a,loading:l,error:n}=(0,eU.t)();return r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"group flex flex-col gap-4 py-2 data-[collapsed=true]:py-2 pb-5",children:[e?r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(g.z,{variant:"link",size:"sm",asChild:!0,children:(0,r.jsxs)(eG.default,{href:"/data",children:[r.jsx(eT.Z,{className:"size-4"}),r.jsx("span",{className:"ml-2",children:"Back to dashboard"})]})})}):r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-sm text-muted-foreground ml-5 pt-3",children:"Select a context:"})}),r.jsx("nav",{className:"grid gap-1 px-2 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2",children:l?r.jsx(eW,{index:111,folder:{label:"Loading...",active:!1,icon:eq.Z,variant:"ghost"}}):a?.contexts?.items.map((a,l)=>r.jsx(eW,{index:l,folder:{label:`${a.name}`,icon:eA.Z,variant:"ghost",href:`/data/${a.id}`},children:e?.toLowerCase()===`${a.id}`.toLowerCase()&&r.jsxs(r.Fragment,{children:[r.jsx(eW,{index:l,indented:!0,folder:{label:"Active data",active:e?.toLowerCase()===`${a.id}`.toLowerCase()&&!t&&!s,icon:eZ.Z,variant:e?.toLowerCase()!==`${a.id}`.toLowerCase()||t||s?"ghost":"default",href:`/data/${a.id}`}}),r.jsx(eW,{index:l+1e3,indented:!0,folder:{label:"Archived data",active:t,icon:eF,variant:t?"default":"ghost",href:`/data/${a.id}/archived`}}),r.jsx(eW,{index:l+1e3,indented:!0,folder:{label:"Settings",active:s,icon:e$.Z,variant:s?"default":"ghost",href:`/data/${a.id}/settings`}})]})},a.id))})]},e+t+s)})};function eB({children:e,params:t}){let s=t.query&&"archived"===t.query[1],a=t.query&&"settings"===t.query[1],l=t.query&&t.query[0],n=null;return t.query&&s?n=t.query[2]||null:t.query&&!a&&(n=t.query[1]||null),r.jsx(eO.pn,{delayDuration:0,children:(0,r.jsxs)(eR,{direction:"horizontal",onLayout:e=>{document.cookie=`react-resizable-panels:layout=${JSON.stringify(e)}`},className:"h-full items-stretch",children:[(0,r.jsxs)(ee,{defaultSize:15,collapsedSize:4,collapsible:!0,minSize:15,maxSize:20,children:[r.jsx(eM.Z,{}),r.jsx(eV,{activeFolder:l,activeArchived:s,activeSettings:a}),r.jsx(eM.Z,{}),r.jsx("div",{className:"p-3 opacity-50",children:(0,r.jsxs)(z.bZ,{variant:"default",children:[r.jsx(M.C,{className:"mb-2",variant:"secondary",children:"coming soon"}),r.jsx(z.Cd,{children:"Custom views"}),r.jsx(z.X,{children:"Will enable you to store filter settings."})]})})]}),l&&!a&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(eI,{withHandle:!0}),r.jsx(ee,{defaultSize:20,minSize:20,children:(0,r.jsxs)(eD.mQ,{defaultValue:"all",children:[r.jsx("div",{className:"flex items-center px-4 py-2 h-full",children:r.jsx("h1",{className:"text-xl font-bold",children:"Items"})}),r.jsx(eM.Z,{}),r.jsx(I,{activeFolder:l,activeItem:n??void 0,archived:s})]})})]}),r.jsx(eI,{withHandle:!0}),r.jsx(ee,{defaultSize:65,children:r.jsx("div",{className:"max-h-full overflow-y-auto",children:e})})]})})}},26533:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>m});var a=s(10326),l=s(65063);s(17577);var n=s(69771),i=s(8247),o=s(39167),d=s(42270),c=s(43273),u=s(65304),h=s(76812),x=e([l]);function m({params:e}){let{data:t,loading:s,error:r}=(0,o.aM)(d.fV,{skip:!e?.query?.[0],variables:{id:e?.query?.[0]}});if(!e.query)return a.jsx("div",{className:"grow flex flex-col",children:a.jsx(n.Z,{})});let x=e.query[0]||null,m="archived"===e.query[1],p="settings"===e.query[1];if(p)return a.jsx(i.c,{expand:!0,actions:!0,context:x});let g=null;return(m?g=e.query[2]||null:p||(g=e.query[1]||null),s||!t?.contextById)?(0,a.jsxs)("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx(u.O,{className:"w-full h-[80px] rounded-md"}),a.jsx(u.O,{className:"w-full h-[50px] rounded-md mt-3"}),a.jsx(u.O,{className:"w-full h-[80px] rounded-md mt-3"}),a.jsx(u.O,{className:"w-full h-[80px] rounded-md mt-3"}),a.jsx(u.O,{className:"w-full h-[80px] rounded-md mt-3"}),a.jsx(u.O,{className:"w-full h-[80px] rounded-md mt-3"})]}):r?(0,a.jsxs)(c.bZ,{variant:"destructive",children:[a.jsx(h.LPM,{className:"size-4"}),a.jsx(c.Cd,{children:"Error"}),a.jsx(c.X,{children:r?.message||"Error loading item."})]}):a.jsx(l.H,{actions:!0,context:t?.contextById,itemId:g})}l=(x.then?(await x)():x)[0],r()}catch(e){r(e)}})},8247:(e,t,s)=>{"use strict";s.d(t,{c:()=>w});var r=s(10326),a=s(39167),l=s(18753),n=s(86333),i=s(941),o=s(35047),d=s(17577),c=s(567),u=s(90772),h=s(33071),x=s(8281),m=s(65685),p=s(24295),g=s(42270),f=s(43273),j=s(65304),v=s(76812),y=s(99440),b=s(34789),N=s(19753);function w(e){let[t,s]=(0,d.useState)(null),[w,k]=(0,d.useState)(!0),[C,z]=(0,d.useState)(!0),{toast:S}=(0,b.pm)(),{data:E,loading:_,error:P}=(0,a.aM)(g.fV,{variables:{id:e.context}}),R=E?.contextById,I=(0,o.useRouter)(),[M,D]=(0,l.D)((0,g.Eq)(e.context),{onCompleted:t=>{let s=t[e.context+"_itemsGenerateChunks"];if(s.jobs?.length>0){S({title:"Chunks generation started",description:"Jobs have been started in the background, depending on the size of the item this may take a while."});return}S({title:"Chunks generated",description:"Chunks generated successfully."})}}),[O,L]=(0,l.D)((0,g.ps)(e.context),{onCompleted:t=>{let s=t[e.context+"_itemsDeleteChunks"];if(s.jobs?.length>0){S({title:"Chunks deletion started",description:"Jobs have been started in the background, depending on the size of the item this may take a while."});return}S({title:"Chunks deleted",description:"Chunks deleted successfully."})}});return _?(0,r.jsxs)("div",{className:"p-8 text-center text-muted-foreground",children:[r.jsx(j.O,{className:"w-full h-[80px] rounded-md"}),r.jsx(j.O,{className:"w-full h-[50px] rounded-md mt-3"}),r.jsx(j.O,{className:"w-full h-[80px] rounded-md mt-3"}),r.jsx(j.O,{className:"w-full h-[80px] rounded-md mt-3"}),r.jsx(j.O,{className:"w-full h-[80px] rounded-md mt-3"}),r.jsx(j.O,{className:"w-full h-[80px] rounded-md mt-3"})]}):P?(0,r.jsxs)(f.bZ,{variant:"destructive",children:[r.jsx(v.LPM,{className:"size-4"}),r.jsx(f.Cd,{children:"Error"}),r.jsx(f.X,{children:P?.message||"Error loading item."})]}):(0,r.jsxs)("div",{className:"flex h-full flex-col",children:[e.actions?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex p-2 justify-between",children:[r.jsx("div",{className:"flex items-center gap-2"}),(0,r.jsxs)(u.z,{onClick:()=>{I.push("/context")},variant:"ghost",size:"icon",children:[r.jsx(n.Z,{className:"size-4"}),r.jsx("span",{className:"sr-only",children:"Back"})]})]}),r.jsx(x.Z,{})]}):null,R?(0,r.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,r.jsxs)(h.Zb,{className:"border-0 rounded-none",children:[r.jsx(h.Ol,{children:r.jsx(h.ll,{className:"text-lg",children:"Settings"})}),r.jsx(h.aY,{className:"grid gap-4",children:r.jsx(m.x,{className:"max-h-[600px]",children:(0,r.jsxs)("div",{className:"space-y-6 pr-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:R.name}),r.jsx("p",{className:"text-muted-foreground mt-1",children:R.description}),(0,r.jsxs)("div",{className:"mt-3 flex items-center",children:[r.jsx("span",{className:"text-sm font-medium mr-2",children:"Embedder:"}),r.jsx(c.C,{variant:"outline",children:R.embedder||"None"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-sm font-medium mr-2",children:"Calculate Vectors:"}),r.jsx(c.C,{variant:"secondary",children:R.configuration?.calculateVectors?R.configuration.calculateVectors.charAt(0).toUpperCase()+R.configuration.calculateVectors.slice(1):"Manual"}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{className:"block",children:[r.jsx("b",{children:"Manual"}),": Vectors are only calculated when triggered manually."]}),(0,r.jsxs)("span",{className:"block",children:[r.jsx("b",{children:"On Update"}),": Vectors are recalculated whenever an item is updated."]}),(0,r.jsxs)("span",{className:"block",children:[r.jsx("b",{children:"On Insert"}),": Vectors are calculated when a new item is inserted."]}),(0,r.jsxs)("span",{className:"block",children:[r.jsx("b",{children:"Always"}),": Vectors are calculated on both insert and update operations."]})]})]})]})})})]}),r.jsx(p.zF,{open:w,onOpenChange:k,children:(0,r.jsxs)(h.Zb,{className:"bg-none border-0 rounded-none",children:[r.jsx(h.Ol,{children:r.jsx(p.wy,{asChild:!0,children:(0,r.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",children:[r.jsx(h.ll,{children:"Sources"}),(0,r.jsxs)(u.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[r.jsx(i.Z,{className:`h-4 w-4 transition-transform ${w?"":"-rotate-90"}`}),r.jsx("span",{className:"sr-only",children:"Toggle sources"})]})]})})}),r.jsx(p.Fw,{children:r.jsx(h.aY,{children:R.sources?.length>0?r.jsx("div",{className:"space-y-4",children:R.sources?.map(e=>r.jsx("div",{children:r.jsx(N.R,{queueName:e.config.queue||"",nameGenerator:e=>"Source update",retryJob:e=>{if(!e.data?.source||!e.data?.context)return}})},e.id))}):r.jsx("div",{className:"text-center text-muted-foreground",children:"No sources found."})})})]})})]}):r.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Context not found."}),r.jsx(y.aR,{open:"generate"===t,onOpenChange:e=>!e&&s(null),children:(0,r.jsxs)(y._T,{children:[(0,r.jsxs)(y.fY,{children:[r.jsx(y.f$,{children:"Generate Embeddings"}),r.jsx(y.yT,{children:"Are you sure you want to generate embeddings for this context? This will create new embedding vectors for every item in the context, this can take a long time, might cost money if you are using a paid service as your embedder, or require a lot of computational resources if your embedder is self hosted."})]}),(0,r.jsxs)(y.xo,{children:[r.jsx(y.le,{children:"Cancel"}),r.jsx(y.OL,{disabled:D.loading,onClick:()=>{s(null),M(),S({title:"Generating embeddings...",description:"Embeddings are being generated in the background, depending on the size of the item this may take a while."})},children:"Generate"})]})]})}),r.jsx(y.aR,{open:"delete"===t,onOpenChange:e=>!e&&s(null),children:(0,r.jsxs)(y._T,{children:[(0,r.jsxs)(y.fY,{children:[r.jsx(y.f$,{children:"Delete Embeddings"}),r.jsx(y.yT,{children:"Are you sure you want to delete all embeddings for this context? This action cannot be undone. Embeddings are used to search and filter items, deleting them will remove this functionality from the context, regenerating embeddings might take a long time, might cost money if you are using a paid service as your embedder, or require a lot of computational resources if your embedder is self hosted."})]}),(0,r.jsxs)(y.xo,{children:[r.jsx(y.le,{children:"Cancel"}),r.jsx(y.OL,{disabled:L.loading,onClick:async()=>{s(null),O(),S({title:"Embeddings deleted",description:"All embeddings for this item have been deleted."})},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}},69771:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s(10326),a=s(33519),l=s(17577),n=s(31051),i=s(42193),o=s(16923),d=s(22746);function c(){let[e,t]=(0,l.useState)("count"),[s,c]=(0,l.useState)({from:(0,a.k)(new Date,7),to:new Date}),[u,h]=(0,l.useState)("CONTEXT_UPSERT"),[x,m]=(0,l.useState)("label");return(0,r.jsxs)("div",{className:"flex-1 flex flex-col p-8 pt-6 h-screen",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-4xl font-bold tracking-tight bg-clip-text",children:"Contexts Dashboard"}),r.jsx("p",{className:"text-lg",children:"Monitor your contexts and their usage."})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(i.z,{dateRange:s,onDateRangeChange:c,maxDays:30})})]}),(0,r.jsxs)("div",{className:"flex-1 grid gap-6 md:grid-cols-3 min-h-0",children:[r.jsx("div",{className:"rounded-lg border md:col-span-2 p-6 flex flex-col",children:r.jsx(o.q,{dateRange:s,selectedType:u,onTypeChange:h,unitOptions:[{value:"count",label:"Count"}],onUnitChange:t,unit:e,dataTypes:[n.h.CONTEXT_RETRIEVE,n.h.CONTEXT_UPSERT]})}),r.jsx("div",{className:"rounded-lg border p-6 flex flex-col",children:r.jsx(d.Y,{groupByOptions:[],dateRange:s,selectedType:u,unit:e,groupBy:x,onGroupByChange:m})})]})]})}},65063:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{H:()=>X});var a=s(10326),l=s(39167),n=s(18753),i=s(74064),o=s(23015),d=s(98091),c=s(40900),u=s(35157),h=s(31215),x=s(69508),m=s(91470),p=s(24081),g=s(21986),f=s(47206),j=s(231),v=s(35047),y=s(17577),b=s(74723),N=s(770),w=s(57004),k=s(18615),C=s(567),z=s(90772),S=s(55632),E=s(54432),_=s(37859),P=s(8281),R=s(33261),I=s(15940),M=s(87673),D=s(68232),O=s(62288),L=s(60097),T=s(99440),q=s(34789),A=s(77863),Z=s(65304),F=s(43273),$=s(76812),U=s(42270),G=s(15286),W=s(24295),V=s(33071),B=s(77961),J=e([w]);function X(e){let[t,s]=(0,y.useState)(),{toast:r}=(0,q.pm)(),J=(0,v.useRouter)(),[X,H]=(0,y.useState)(),K=e.context,Y=e.context.fields.map(e=>e.name);console.log("fields",Y),console.log("context",K);let{loading:Q,error:ee,refetch:et}=(0,l.aM)((0,U.A1)(e.context.id,Y,!0),{skip:!e.itemId||!e.context?.id,variables:{context:e.context.id,id:e.itemId},fetchPolicy:"no-cache",nextFetchPolicy:"network-only",onCompleted:t=>{let r=t[e.context.id+"_itemsById"];s({...r,tags:r.tags?r.tags.split(","):[]}),H({rights_mode:r.rights_mode,users:r.RBAC?.users,roles:r.RBAC?.roles,projects:r.RBAC?.projects})}}),[es,er]=(0,n.D)((0,U.ty)(e.context.id),{onCompleted:()=>{r({title:"Item updated",description:"Item updated successfully."})},onError:e=>{r({title:"Error updating item",description:e.message})}}),[ea,el]=(0,n.D)((0,U.mN)(e.context.id,[]),{onCompleted:()=>{r({title:"Item deleted",description:"Item deleted successfully."})},onError:e=>{r({title:"Error deleting item",description:e.message})}}),[en,ei]=(0,n.D)((0,U.Eq)(e.context.id),{onCompleted:t=>{let s=t[e.context.id+"_itemsGenerateChunks"];if(s.jobs?.length>0){r({title:"Chunks generation started",description:"Jobs have been started in the background, depending on the size of the item this may take a while."});return}r({title:"Chunks generated",description:"Chunks generated successfully."})}}),[eo,ed]=(0,n.D)((0,U.ps)(e.context.id),{onCompleted:t=>{let s=t[e.context.id+"_itemsDeleteChunks"];if(s.jobs?.length>0){r({title:"Chunks deletion started",description:"Jobs have been started in the background, depending on the size of the item this may take a while."});return}r({title:"Chunks deleted",description:"Chunks deleted successfully."})}}),[ec,eu]=(0,n.D)((0,U.dc)(e.context.id),{onCompleted:()=>{r({title:"Field processed",description:"Field processed successfully."})},onError:e=>{r({title:"Error processing field",description:e.message})}}),eh=N.Ry({name:N.Z_().nullable().optional(),tags:N.Z_().nullable().optional(),external_id:N.Z_().nullable().optional(),description:N.Z_().min(2,{message:"Text must be at least 2 characters."}).max(1e4,{message:"Text must not be longer than 10.0000 characters."}),...K?.fields?.reduce((e,t)=>({...e,[t.name]:N.Z_().nullable()}),{})??{}}),ex=(0,b.cI)({resolver:(0,i.F)(eh),defaultValues:{description:t?.description},mode:"onChange"}),em=e=>{if(e.target.value&&"Enter"===e.key){let r=t?.tags??[],a=[...Array.isArray(r)?[...r]:[]];a.push(e.target.value),console.log("tags",a),ex.setValue("tags",a.join(",")),s({...t,tags:a}),e.target.value=""}},[ep,eg]=(0,y.useState)(!1),[ef,ej]=(0,y.useState)(null),[ev,ey]=(0,y.useState)(null);return Q?(0,a.jsxs)("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx(Z.O,{className:"w-full h-[80px] rounded-md"}),a.jsx(Z.O,{className:"w-full h-[50px] rounded-md mt-3"}),a.jsx(Z.O,{className:"w-full h-[80px] rounded-md mt-3"}),a.jsx(Z.O,{className:"w-full h-[80px] rounded-md mt-3"}),a.jsx(Z.O,{className:"w-full h-[80px] rounded-md mt-3"}),a.jsx(Z.O,{className:"w-full h-[80px] rounded-md mt-3"})]}):ee?(0,a.jsxs)(F.bZ,{variant:"destructive",children:[a.jsx($.LPM,{className:"size-4"}),a.jsx(F.Cd,{children:"Error"}),a.jsx(F.X,{children:ee?.message||"Error loading item."})]}):(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[t?(0,a.jsxs)(a.Fragment,{children:[e.actions?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"flex items-center p-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t?.archived?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D.u,{children:[a.jsx(D.aJ,{asChild:!0,children:(0,a.jsxs)(z.z,{onClick:async()=>{t.id&&(es({variables:{id:t.id,input:{archived:!1}}}),s({...t,archived:!1}),J.push("./"))},variant:"ghost",size:"icon",disabled:!t||er.loading,children:[er.loading?a.jsx(_.g,{}):a.jsx(o.Z,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Unarchive"})]})}),a.jsx(D._v,{children:"Unarchive"})]}),(0,a.jsxs)(D.u,{children:[a.jsx(D.aJ,{asChild:!0,children:(0,a.jsxs)(z.z,{onClick:async()=>{t.id&&(ea({variables:{id:t.id}}),J.push("./"))},variant:"ghost",size:"icon",disabled:!t||el.loading,children:[el.loading?a.jsx(_.g,{}):a.jsx(d.Z,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Delete"})]})}),a.jsx(D._v,{children:"Delete"})]})]}):(0,a.jsxs)(D.u,{children:[a.jsx(D.aJ,{asChild:!0,children:(0,a.jsxs)(z.z,{onClick:async()=>{t?.id&&(es({variables:{id:t.id,input:{archived:!0}}}),s({...t,archived:!0}),J.push("./"))},variant:"ghost",size:"icon",disabled:!t||er.loading,children:[er.loading?a.jsx(_.g,{}):a.jsx(c.Z,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Archive"})]})}),a.jsx(D._v,{children:"Archive"})]}),ep?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D.u,{children:[a.jsx(D.aJ,{asChild:!0,children:(0,a.jsxs)(z.z,{onClick:()=>{eg(!1)},variant:"ghost",size:"icon",children:[a.jsx(u.Z,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Cancel"})]})}),a.jsx(D._v,{children:"Cancel"})]}),(0,a.jsxs)(D.u,{children:[a.jsx(D.aJ,{asChild:!0,children:(0,a.jsxs)(z.z,{disabled:er.loading,onClick:()=>{t?.id&&(es({variables:{id:t.id,input:{textlength:t?.text?.length,description:t?.description,name:t?.name,externalId:t?.externalId,tags:t?.tags?.join(","),source:t?.source,archived:t?.archived,rights_mode:X?.rights_mode,RBAC:{users:X?.users||[],roles:X?.roles||[],projects:X?.projects||[]},...K?.fields?.reduce((e,s)=>({...e,[s.name]:t?.[s.name]}),{})??{}}}}),eg(!1))},variant:"ghost",size:"icon",children:[a.jsx(h.Z,{className:"size-4"}),(0,a.jsxs)("span",{className:"sr-only",children:["Save ",er.loading??a.jsx(_.g,{})]})]})}),a.jsx(D._v,{children:"Save"})]})]}):(0,a.jsxs)(D.u,{children:[a.jsx(D.aJ,{asChild:!0,children:(0,a.jsxs)(z.z,{onClick:()=>{eg(!0)},variant:"ghost",size:"icon",disabled:!t||er.loading,children:[a.jsx(x.Z,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Edit"})]})}),a.jsx(D._v,{children:"Edit"})]})]})}),a.jsx(P.Z,{})]}):null,a.jsx("div",{className:"flex flex-1 flex-col",children:(0,a.jsxs)("div",{className:(0,A.cn)("space-y-2"),children:[a.jsx("div",{className:"flex items-center justify-between space-x-4 px-4 bg-muted rounded",children:a.jsx("h3",{className:"text-lg p-5 font-semibold tracking-tight text-lg",children:"Fields"})}),(0,a.jsxs)("div",{className:"p-5",children:[a.jsx(S.l0,{...ex,children:a.jsx("form",{className:"space-y-8",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(I.iA,{children:[a.jsx(I.xD,{children:(0,a.jsxs)(I.SC,{children:[a.jsx(I.ss,{children:"Name"}),a.jsx(I.ss,{children:"Value"})]})}),(0,a.jsxs)(I.RM,{children:[(0,a.jsxs)(I.SC,{children:[a.jsx(I.pj,{className:"font-medium capitalize",children:"Name"}),a.jsx(I.pj,{children:a.jsx(S.Wi,{control:ex.control,name:"name",render:({field:e})=>a.jsx(S.xJ,{children:ep?(0,a.jsxs)(a.Fragment,{children:[a.jsx(S.NI,{children:a.jsx(E.I,{type:"text",disabled:!ep,onChange:e=>{s({...t,name:e.target.value})},placeholder:"Item name",value:t.name??""})}),a.jsx(S.zG,{})]}):a.jsx("div",{onClick:async()=>{await navigator.clipboard.writeText(t.name??""),r({title:"Copied to clipboard"})},className:"flex-1 whitespace-pre-wrap text-sm cursor-copy",children:t.name&&t.name?.length>200?t.name?.slice(0,200)+"...":t.name})})})})]},"name"),(0,a.jsxs)(I.SC,{children:[a.jsx(I.pj,{className:"font-medium capitalize",children:"Tags"}),(0,a.jsxs)(I.pj,{children:[ep?a.jsx("div",{className:"grid-row grid grid-flow-col gap-4 pt-2",children:a.jsx(S.Wi,{control:ex.control,name:"tags",render:({field:e})=>(0,a.jsxs)(S.xJ,{children:[a.jsx(S.NI,{children:a.jsx(E.I,{id:"includes",type:"text",onKeyUp:e=>em(e),placeholder:"Type and press enter to add"})}),a.jsx(S.zG,{})]})})}):null,t?.tags?.length?a.jsx("div",{className:"gap-2 pt-2",children:t?.tags?.map((e,r)=>a.jsx(C.C,{variant:"secondary",className:"px-3 py-2 mr-2 mb-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-muted-foreground truncate max-w-[200px]",children:e}),ep?a.jsx("span",{className:"size-4 cursor-pointer text-muted-foreground",onClick:()=>{let e=[...t.tags??[]];e.splice(r,1),ex.setValue("tags",e.join(",")),s({...t,tags:e})},children:a.jsx(m.Z,{className:"ml-1",size:15})}):null]})},`tag-${r}`))}):null]})]},"tags"),(0,a.jsxs)(I.SC,{children:[a.jsx(I.pj,{className:"font-medium capitalize",children:"Description"}),a.jsx(I.pj,{children:a.jsx(S.Wi,{control:ex.control,name:"description",render:({field:e})=>a.jsx(S.xJ,{children:ep?(0,a.jsxs)(a.Fragment,{children:[a.jsx(S.NI,{children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(M.g,{autoFocus:!0,disabled:!ep,onChange:e=>{s({...t,description:e.target.value})},placeholder:"Item text content",className:"resize-none",value:t.description??""}),(0,a.jsxs)(O.Vq,{children:[a.jsx(O.hg,{asChild:!0,children:(0,a.jsxs)(z.z,{type:"button",variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:()=>ej({name:"description",value:t.description??"",disabled:!1}),children:[a.jsx(p.Z,{className:"h-3 w-3"}),a.jsx("span",{className:"sr-only",children:"Expand"})]})}),(0,a.jsxs)(O.cZ,{className:"max-w-4xl max-h-[80vh]",children:[a.jsx(O.fK,{children:a.jsx(O.$N,{children:"Edit Description"})}),a.jsx("div",{className:"mt-4",children:a.jsx(M.g,{rows:20,className:"min-h-[400px] resize-none",value:ef?.name==="description"?ef.value:t.description??"",onChange:e=>{let r=e.target.value;ej(e=>e?.name==="description"?{...e,value:r}:e),s({...t,description:r})}})})]})]})]})}),a.jsx(S.zG,{})]}):a.jsx("div",{onClick:async()=>{await navigator.clipboard.writeText(t.description??""),r({title:"Copied to clipboard"})},className:"flex-1 whitespace-pre-wrap text-sm cursor-copy",children:a.jsx(k.J,{text:t.description??""})})})})})]},19091),(0,a.jsxs)(I.SC,{children:[a.jsx(I.pj,{className:"font-medium capitalize",children:"External ID"}),a.jsx(I.pj,{children:a.jsx(S.Wi,{control:ex.control,name:"external_id",render:({field:e})=>a.jsx(S.xJ,{children:ep?(0,a.jsxs)(a.Fragment,{children:[a.jsx(S.NI,{children:a.jsx(E.I,{type:"text",disabled:!ep,onChange:e=>{console.log("e",e),s({...t,external_id:e.target.value})},placeholder:"xxxx-xxxx-xxxx-xxxx",value:t.external_id??""})}),a.jsx(S.zG,{})]}):a.jsx("div",{onClick:async()=>{await navigator.clipboard.writeText(t.external_id??""),r({title:"Copied to clipboard"})},className:"flex-1 whitespace-pre-wrap text-sm cursor-copy",children:t.external_id??""})})})})]},"externalId"),K?.fields?.length&&K.fields.map((e,l)=>(0,a.jsxs)(I.SC,{children:[(0,a.jsxs)(I.pj,{className:"font-medium capitalize flex flex-col",children:[e.label,e.calculated&&a.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculated"}),e.processor&&(0,a.jsxs)(D.u,{children:[a.jsx(D.aJ,{asChild:!0,children:(0,a.jsxs)(z.z,{variant:"secondary",size:"sm",className:"w-auto mt-2",onClick:()=>{ec({variables:{item:t?.id,field:e.name}})},disabled:eu.loading,children:[eu.loading?a.jsx(_.g,{}):a.jsx(g.Z,{className:"size-4"}),a.jsx("span",{className:"ml-2",children:"Process"})]})}),a.jsx(D._v,{className:"max-w-xs",children:e.processor.description})]})]}),ep?a.jsx(a.Fragment,{children:(0,a.jsxs)(I.pj,{children:["code"===e.type||"json"===e.type||"text"===e.type||"longText"===e.type||"markdown"===e.type||"shortText"===e.type?a.jsx(S.Wi,{control:ex.control,name:e.name,render:({field:r})=>(0,a.jsxs)(S.xJ,{children:[a.jsx(S.NI,{children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(M.g,{id:e.name,rows:"shortText"===e.type?2:7,onChange:r=>{s({...t,[e.name]:r.target.value})},value:t[e.name]??""}),(0,a.jsxs)(O.Vq,{children:[a.jsx(O.hg,{asChild:!0,children:(0,a.jsxs)(z.z,{type:"button",variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:()=>ej({name:e.name,disabled:!1,value:t[e.name]??""}),children:[a.jsx(p.Z,{className:"h-3 w-3"}),a.jsx("span",{className:"sr-only",children:"Expand"})]})}),(0,a.jsxs)(O.cZ,{className:"max-w-4xl max-h-[80vh]",children:[a.jsx(O.fK,{children:(0,a.jsxs)(O.$N,{children:["Edit ",e.name]})}),a.jsx("div",{className:"mt-4",children:a.jsx(M.g,{rows:20,className:"min-h-[400px] resize-none",value:ef?.name===e.name?ef.value:t[e.name]??"",onChange:r=>{let a=r.target.value;ej(t=>t?.name===e.name?{...t,value:a}:t),s({...t,[e.name]:a})}})})]})]})]})}),a.jsx(S.zG,{})]})}):null,"number"===e.type?a.jsx(S.Wi,{control:ex.control,name:e.name,render:({field:r})=>(0,a.jsxs)(S.xJ,{children:[a.jsx(S.NI,{children:a.jsx(E.I,{id:e.name,type:"number",onChange:r=>{s({...t,[e.name]:r.target.value})},value:t[e.name]??""})}),a.jsx(S.zG,{})]})}):null,"boolean"===e.type?a.jsx(S.Wi,{control:ex.control,name:e.name,render:({field:r})=>(0,a.jsxs)(S.xJ,{children:[a.jsx(S.NI,{children:a.jsx(R.r,{checked:!!r.value,onCheckedChange:r=>{s({...t,[e.name]:r})}})}),a.jsx(S.zG,{})]})}):null,"file"===e.type&&a.jsx("div",{children:a.jsx(B.jF,{s3key:t[e.name],children:a.jsx(B.ZP,{id:`item-${t.id}`,buttonText:"Select File",allowedFileTypes:e.allowedFileTypes,dependencies:[],selectionLimit:1,onConfirm:r=>{console.log("keys",r),s({...t,[e.name]:r[0]})}})})})]})}):a.jsx(I.pj,{children:(0,a.jsxs)("span",{children:["code"===e.type&&a.jsx(w.G,{code:t[e.name]}),"json"===e.type&&a.jsx(w.G,{code:t[e.name]}),"shortText"===e.type&&a.jsx("p",{className:"cursor-copy",onClick:async()=>{await navigator.clipboard.writeText(t[e.name]),r({title:"Copied to clipboard"})},children:t[e.name]}),"longText"===e.type&&a.jsx(k.J,{text:t[e.name]}),"file"===e.type&&a.jsx(B.jF,{s3key:t[e.name]}),"markdown"===e.type&&a.jsx(k.J,{text:t[e.name]}),!e.type&&a.jsx(k.J,{text:t[e.name]}),"text"===e.type&&a.jsx(k.J,{text:t[e.name]}),"number"===e.type&&a.jsx("p",{className:"cursor-copy",onClick:async()=>{await navigator.clipboard.writeText(t[e.name]),r({title:"Copied to clipboard"})},children:t[e.name]}),"boolean"===e.type&&a.jsx("p",{className:"cursor-copy",onClick:async()=>{await navigator.clipboard.writeText(t[e.name]),r({title:"Copied to clipboard"})},children:t[e.name]??""})]})})]},l))]})]}),a.jsx(P.Z,{className:"my-4"})]})})}),a.jsx(V.Zb,{className:"bg-transparent",children:(0,a.jsxs)(W.zF,{children:[a.jsx(V.Ol,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-base",children:"Access Control"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-0",children:"Control access to this item."})]}),a.jsx(W.wy,{asChild:!0,children:(0,a.jsxs)(z.z,{variant:"ghost",size:"icon",className:"size-8",children:[a.jsx(f.Z,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Toggle"})]})})]})}),a.jsx(W.Fw,{className:"mt-5",children:a.jsx(V.aY,{className:"space-y-4",children:a.jsx(G.P,{initialRightsMode:t.rights_mode,initialUsers:t.RBAC?.users,initialRoles:t.RBAC?.roles,initialProjects:t.RBAC?.projects,onChange:(e,t,s,r)=>{H({rights_mode:e,users:t,roles:s,projects:r})}})})})]})}),(0,a.jsxs)("div",{className:"mt-4 border border p-3 pb-5 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between ml-4 mt-3 mr-4 mb-2",children:[a.jsx("h1",{className:"text-lg font-medium",children:"Embeddings"}),(0,a.jsxs)(L.h_,{children:[a.jsx(L.$F,{asChild:!0,children:(0,a.jsxs)(z.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[a.jsx(j.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Open menu"})]})}),(0,a.jsxs)(L.AW,{align:"end",children:[a.jsx(L.Xi,{onClick:()=>ey("generate"),children:"Generate embeddings"}),a.jsx(L.Xi,{onClick:()=>ey("delete"),children:"Delete embeddings"})]})]})]}),(0,a.jsxs)(I.iA,{children:[a.jsx(I.Rn,{children:t?.chunks?.length?"A list of all embeddings for this item.":"No embeddings found."}),a.jsx(I.xD,{children:(0,a.jsxs)(I.SC,{children:[a.jsx(I.ss,{children:"Index"}),a.jsx(I.ss,{children:"Content"}),a.jsx(I.ss,{children:"Dimensions"}),a.jsx(I.ss,{children:"Created At"}),a.jsx(I.ss,{children:"Updated At"})]})}),a.jsx(I.RM,{children:t?.chunks?.length?t?.chunks?.length&&t.chunks.map(e=>(0,a.jsxs)(I.SC,{children:[a.jsx(I.pj,{className:"font-medium capitalize",children:e.chunk_index+1}),a.jsx(I.pj,{children:a.jsx(k.J,{text:e.content})}),a.jsx(I.pj,{children:e.embedding_size||0}),a.jsx(I.pj,{children:new Date(e.chunk_created_at).toLocaleString()}),a.jsx(I.pj,{children:new Date(e.chunk_updated_at).toLocaleString()})]},e.id)):null})]})]})]})]})})]}):(0,a.jsxs)(a.Fragment,{children:[" ",!t&&e.itemId?a.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Item not found."}):a.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No item selected."})]}),a.jsx(T.aR,{open:"generate"===ev,onOpenChange:e=>!e&&ey(null),children:(0,a.jsxs)(T._T,{children:[(0,a.jsxs)(T.fY,{children:[a.jsx(T.f$,{children:"Generate Embeddings"}),a.jsx(T.yT,{children:"Are you sure you want to generate embeddings for this item? This will create new embedding vectors for the content."})]}),(0,a.jsxs)(T.xo,{children:[a.jsx(T.le,{children:"Cancel"}),a.jsx(T.OL,{disabled:ei.loading,onClick:()=>{t?.id&&(console.log("Generate embeddings for item:",t?.id),ey(null),en({variables:{where:{id:{eq:t?.id}}}}))},children:"Generate"})]})]})}),a.jsx(T.aR,{open:"delete"===ev,onOpenChange:e=>!e&&ey(null),children:(0,a.jsxs)(T._T,{children:[(0,a.jsxs)(T.fY,{children:[a.jsx(T.f$,{children:"Delete Embeddings"}),a.jsx(T.yT,{children:"Are you sure you want to delete all embeddings for this item? This action cannot be undone."})]}),(0,a.jsxs)(T.xo,{children:[a.jsx(T.le,{children:"Cancel"}),a.jsx(T.OL,{disabled:ed.loading,onClick:async()=>{t?.id&&(console.log("Delete embeddings for item:",t?.id),ey(null),eo({variables:{where:{id:{eq:t?.id}}}}))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}w=(J.then?(await J)():J)[0],r()}catch(e){r(e)}})},42193:(e,t,s)=>{"use strict";s.d(t,{z:()=>f});var r=s(10326),a=s(17577),l=s(76812),n=s(57305),i=s(92977),o=s(98181),d=s(77863),c=s(90772),u=s(11890),h=s(39183),x=s(17757);function m({className:e,classNames:t,showOutsideDays:s=!0,...a}){return r.jsx(x._W,{showOutsideDays:s,className:(0,d.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,d.cn)((0,c.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,d.cn)((0,c.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>r.jsx(u.Z,{className:"size-4"}),IconRight:({...e})=>r.jsx(h.Z,{className:"size-4"})},...a})}m.displayName="Calendar";var p=s(34789),g=s(30811);function f({dateRange:e,onDateRangeChange:t,className:s,maxDays:u=30}){let{toast:h}=(0,p.pm)(),x=a.useMemo(()=>{if(!e?.from)return[];let t=e.from;return[{before:(0,i.E)(t,-u)},{after:(0,i.E)(t,u)}]},[e?.from,u]);return r.jsx("div",{className:(0,d.cn)("grid gap-2",s),children:(0,r.jsxs)(g.J2,{children:[r.jsx(g.xo,{asChild:!0,children:(0,r.jsxs)(c.z,{id:"date",variant:"outline",className:(0,d.cn)("w-[260px] justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[r.jsx(l.Que,{className:"mr-2 h-4 w-4"}),e?.from?e.to?(0,r.jsxs)(r.Fragment,{children:[(0,o.WU)(e.from,"LLL dd, y")," -"," ",(0,o.WU)(e.to,"LLL dd, y")]}):(0,o.WU)(e.from,"LLL dd, y"):r.jsx("span",{children:"Pick a date range"})]})}),(0,r.jsxs)(g.yk,{className:"w-auto p-0",align:"end",children:[r.jsx(m,{initialFocus:!0,mode:"range",defaultMonth:e?.from,selected:e,onSelect:e=>{if(e?.from&&e?.to&&(0,n.j)(e.to,e.from)>u){h({title:"Date range too large",description:`Please select a date range of ${u} days or less.`,variant:"destructive"});return}t(e)},disabled:x,numberOfMonths:2}),(0,r.jsxs)("div",{className:"p-3 pt-0 text-xs text-muted-foreground border-t",children:["Maximum range: ",u," days"]})]})]})})}},22746:(e,t,s)=>{"use strict";s.d(t,{Y:()=>m});var r=s(10326),a=s(17577),l=s(39167),n=s(34474),i=s(65304),o=s(42270),d=s(20751),c=s(78948),u=s(99630),h=s(90250);let x=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))","hsl(var(--chart-6))","hsl(var(--chart-7))","hsl(var(--chart-8))","hsl(var(--chart-9))","hsl(var(--chart-10))"];function m({groupByOptions:e,dateRange:t,selectedType:s,groupBy:m,onGroupByChange:p,unit:g}){let{data:f,loading:j,error:v}=(0,l.aM)(o.YH,{variables:{type:s,groupBy:m,from:t?.from?.toISOString(),to:t?.to?.toISOString(),names:"tokens"===g?["inputTokens","outputTokens"]:["count"]},skip:!t?.from||!t?.to}),{chartData:y,chartConfig:b}=a.useMemo(()=>{if(!f?.trackingStatistics)return{chartData:[],chartConfig:{}};let e=f.trackingStatistics.map((e,t)=>{var s;return{name:(s=e?.group)&&"string"==typeof s?s.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):"Unknown",value:e?.count,fill:x[t%x.length]}}).sort((e,t)=>t.value-e.value),t=e.reduce((e,t,s)=>(e[t.name]={label:t.name,color:x[s%x.length]},e),{});return{chartData:e,chartConfig:t}},[f]);return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Distribution"}),e.length>0&&r.jsx("div",{className:"w-full max-w-[150px]",children:(0,r.jsxs)(n.Ph,{value:m,onValueChange:p,children:[r.jsx(n.i4,{children:r.jsx(n.ki,{placeholder:"Group by"})}),r.jsx(n.Bw,{children:e.map(e=>r.jsx(n.Ql,{value:e.value,children:e.label},e.value))})]})})]}),r.jsx("div",{className:"flex-1 min-h-0",children:j?r.jsx("div",{className:"space-y-4 h-full",children:r.jsx(i.O,{className:"h-full w-full"})}):v?(0,r.jsxs)("div",{className:"flex items-center justify-center h-full text-red-500",children:["Error loading distribution data: ",v.message]}):0===y.length?r.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-center",children:"No data available for the selected date range, type, and grouping."}):r.jsx(h.BO,{config:b,className:"h-full w-full",children:(0,r.jsxs)(d.u,{children:[r.jsx("defs",{children:y.map((e,t)=>(0,r.jsxs)("radialGradient",{id:`gradient-${e.name.replace(/\s+/g,"-")}`,cx:"50%",cy:"50%",r:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:e.fill,stopOpacity:1}),r.jsx("stop",{offset:"100%",stopColor:e.fill,stopOpacity:.8})]},`gradient-${t}`))}),r.jsx(c.b,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({cx:e,cy:t,midAngle:s,innerRadius:a,outerRadius:l,percent:n,index:i})=>{if(n<.05)return null;let o=Math.PI/180,d=a+(l-a)*.5,c=e+d*Math.cos(-s*o);return r.jsx("text",{x:c,y:t+d*Math.sin(-s*o),fill:"black",textAnchor:c>e?"start":"end",dominantBaseline:"central",fontSize:"12",fontWeight:"600",paintOrder:"stroke",children:`${(100*n).toFixed(0)}%`})},outerRadius:"75%",innerRadius:"45%",dataKey:"value",strokeWidth:3,children:y.map((e,t)=>r.jsx(u.b,{fill:`url(#gradient-${e.name.replace(/\s+/g,"-")})`},`cell-${t}`))}),r.jsx(h.h7,{content:r.jsx(h.dg,{nameKey:"name",hideLabel:!0,formatter:(e,t)=>["number"==typeof e?e.toLocaleString():e," "+String(t)]})})]})})})]})}},16923:(e,t,s)=>{"use strict";s.d(t,{q:()=>y});var r=s(10326),a=s(17577),l=s(39167),n=s(34474),i=s(65304),o=s(42270),d=s(10669),c=s(18423),u=s(62637),h=s(9997),x=s(47445),m=s(90250),p=s(98181),g=s(99515),f=s(32067);function j(e){return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}let v={count:{label:"Count",color:"hsl(var(--muted-foreground))"}};function y({dataTypes:e,dateRange:t,selectedType:s,onTypeChange:y,onUnitChange:b,unit:N,unitOptions:w}){let{data:k,loading:C,error:z}=(0,l.aM)(o.j9,{variables:{type:s,name:N,from:t?.from?.toISOString(),to:t?.to?.toISOString(),names:[N]},skip:!t?.from||!t?.to}),S=a.useMemo(()=>{if(!k?.trackingStatistics||!t?.from||!t?.to)return[];let e=new Map;return k.trackingStatistics.forEach(t=>{let s=new Date("number"==typeof t.group?t.group:Number(t.group)),r=(0,p.WU)((0,g.b)(s),"yyyy-MM-dd");e.set(r,t.count)}),(0,f.D)({start:(0,g.b)(t.from),end:(0,g.b)(t.to)}).map(t=>{let s=(0,p.WU)(t,"yyyy-MM-dd"),r=e.get(s)||0;return{date:t.getTime(),count:r,formattedDate:(0,p.WU)(t,"MMM dd"),dateObj:t}})},[k,t]);return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Time Series Analytics"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-[150px]",children:(0,r.jsxs)(n.Ph,{value:s,onValueChange:e=>y(e),children:[r.jsx(n.i4,{children:r.jsx(n.ki,{placeholder:"Select data type"})}),r.jsx(n.Bw,{children:e?.map(e=>r.jsx(n.Ql,{value:e,children:j(e)+" "},e))})]})}),w?.length>1&&r.jsx("div",{className:"w-[150px]",children:(0,r.jsxs)(n.Ph,{value:N,onValueChange:e=>b(e),children:[r.jsx(n.i4,{children:r.jsx(n.ki,{placeholder:"Select unit"})}),r.jsx(n.Bw,{children:w?.map(e=>r.jsx(n.Ql,{value:e.value,children:e.label},e.value))})]})})]})]}),r.jsx("div",{className:"flex-1 min-h-0",children:C?r.jsx("div",{className:"space-y-4 h-full",children:r.jsx(i.O,{className:"h-full w-full"})}):z?(0,r.jsxs)("div",{className:"flex items-center justify-center h-full text-red-500",children:["Error loading time series data: ",z.message]}):0===S.length?r.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No data available for the selected date range and type"}):r.jsx(m.BO,{config:v,className:"h-full w-full",children:(0,r.jsxs)(d.T,{data:S,children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"fillCount",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"hsl(var(--muted-foreground))",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"hsl(var(--muted-foreground))",stopOpacity:.05})]}),(0,r.jsxs)("linearGradient",{id:"strokeCount",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"hsl(var(--muted-foreground))",stopOpacity:.8}),r.jsx("stop",{offset:"100%",stopColor:"hsl(var(--muted-foreground))",stopOpacity:.6})]})]}),r.jsx(c.q,{strokeDasharray:"3 3",stroke:"hsl(var(--muted-foreground))",strokeOpacity:.3,vertical:!1}),r.jsx(u.K,{dataKey:"formattedDate",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},tickLine:{stroke:"hsl(var(--muted-foreground))",strokeOpacity:.5},axisLine:{stroke:"hsl(var(--muted-foreground))",strokeOpacity:.5}}),r.jsx(h.B,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},tickLine:{stroke:"hsl(var(--muted-foreground))",strokeOpacity:.5},axisLine:{stroke:"hsl(var(--muted-foreground))",strokeOpacity:.5}}),r.jsx(m.h7,{labelFormatter:(e,t)=>t&&t[0]?(0,p.WU)(t[0].payload.dateObj,"PPP")+" ":e,content:r.jsx(m.dg,{nameKey:"name",hideLabel:!0,formatter:(e,t)=>["number"==typeof e?e.toLocaleString():e," "+String(t)]})}),r.jsx(m.Qk,{content:r.jsx(m.cD,{})}),r.jsx(x.u,{type:"monotone",dataKey:"count",stroke:"url(#strokeCount)",strokeWidth:3,fill:"url(#fillCount)",fillOpacity:.6,dot:{fill:"hsl(var(--muted-foreground))",strokeWidth:2,r:4,strokeOpacity:.8},activeDot:{r:6,strokeWidth:2,fill:"hsl(var(--background))",stroke:"hsl(var(--muted-foreground))",strokeOpacity:1},name:j(s)})]})})})]})}},90250:(e,t,s)=>{"use strict";s.d(t,{BO:()=>h,Qk:()=>g,cD:()=>f,dg:()=>p,h7:()=>m});var r=s(10326),a=s(17577),l=s(30660),n=s(44675),i=s(69274),o=s(77863);let d={light:"",dark:".dark"},c=a.createContext(null);function u(){let e=a.useContext(c);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let h=a.forwardRef(({id:e,className:t,children:s,config:n,...i},d)=>{let u=a.useId(),h=`chart-${e||u.replace(/:/g,"")}`;return r.jsx(c.Provider,{value:{config:n},children:(0,r.jsxs)("div",{"data-chart":h,ref:d,className:(0,o.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...i,children:[r.jsx(x,{id:h,config:n}),r.jsx(l.h,{children:s})]})})});h.displayName="Chart";let x=({id:e,config:t})=>{let s=Object.entries(t).filter(([,e])=>e.theme||e.color);return s.length?r.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(d).map(([t,r])=>`
${r} [data-chart=${e}] {
${s.map(([e,s])=>{let r=s.theme?.[t]||s.color;return r?`  --color-${e}: ${r};`:null}).join("\n")}
}
`).join("\n")}}):null},m=n.u,p=a.forwardRef(({active:e,payload:t,className:s,indicator:l="dot",hideLabel:n=!1,hideIndicator:i=!1,label:d,labelFormatter:c,labelClassName:h,formatter:x,color:m,nameKey:p,labelKey:g},f)=>{let{config:v}=u(),y=a.useMemo(()=>{if(n||!t?.length)return null;let[e]=t,s=`${g||e?.dataKey||e?.name||"value"}`,a=j(v,e,s),l=g||"string"!=typeof d?a?.label:v[d]?.label||d;return c?r.jsx("div",{className:(0,o.cn)("font-medium",h),children:c(l,t)}):l?r.jsx("div",{className:(0,o.cn)("font-medium",h),children:l}):null},[d,c,t,n,h,v,g]);if(!e||!t?.length)return null;let b=1===t.length&&"dot"!==l;return(0,r.jsxs)("div",{ref:f,className:(0,o.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",s),children:[b?null:y,r.jsx("div",{className:"grid gap-1.5",children:t.map((e,t)=>{let s=`${p||e.name||e.dataKey||"value"}`,a=j(v,e,s),n=m||e.payload.fill||e.color;return r.jsx("div",{className:(0,o.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===l&&"items-center"),children:x&&e?.value!==void 0&&e.name?x(e.value,e.name,e,t,e.payload):(0,r.jsxs)(r.Fragment,{children:[a?.icon?r.jsx(a.icon,{}):!i&&r.jsx("div",{className:(0,o.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===l,"w-1":"line"===l,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===l,"my-0.5":b&&"dashed"===l}),style:{"--color-bg":n,"--color-border":n}}),(0,r.jsxs)("div",{className:(0,o.cn)("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[(0,r.jsxs)("div",{className:"grid gap-1.5",children:[b?y:null,r.jsx("span",{className:"text-muted-foreground",children:a?.label||e.name})]}),e.value&&r.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});p.displayName="ChartTooltip";let g=i.D,f=a.forwardRef(({className:e,hideIcon:t=!1,payload:s,verticalAlign:a="bottom",nameKey:l},n)=>{let{config:i}=u();return s?.length?r.jsx("div",{ref:n,className:(0,o.cn)("flex items-center justify-center gap-4","top"===a?"pb-3":"pt-3",e),children:s.map(e=>{let s=`${l||e.dataKey||"value"}`,a=j(i,e,s);return(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[a?.icon&&!t?r.jsx(a.icon,{}):r.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),a?.label]},e.value)})}):null});function j(e,t,s){if("object"!=typeof t||null===t)return;let r="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,a=s;return s in t&&"string"==typeof t[s]?a=t[s]:r&&s in r&&"string"==typeof r[s]&&(a=r[s]),a in e?e[a]:e[s]}f.displayName="ChartLegend"},24295:(e,t,s)=>{"use strict";s.d(t,{Fw:()=>n,wy:()=>l,zF:()=>a});var r=s(35663);let a=r.fC,l=r.wy,n=r.Fw},55632:(e,t,s)=>{"use strict";s.d(t,{NI:()=>g,Wi:()=>u,l0:()=>d,lX:()=>p,pf:()=>f,xJ:()=>m,zG:()=>j});var r=s(10326),a=s(34214),l=s(17577),n=s(74723),i=s(31048),o=s(77863);let d=n.RV,c=l.createContext({}),u=({...e})=>r.jsx(c.Provider,{value:{name:e.name},children:r.jsx(n.Qr,{...e})}),h=()=>{let e=l.useContext(c),t=l.useContext(x),{getFieldState:s,formState:r}=(0,n.Gc)(),a=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},x=l.createContext({}),m=l.forwardRef(({className:e,...t},s)=>{let a=l.useId();return r.jsx(x.Provider,{value:{id:a},children:r.jsx("div",{ref:s,className:(0,o.cn)("space-y-2",e),...t})})});m.displayName="FormItem";let p=l.forwardRef(({className:e,...t},s)=>{let{error:a,formItemId:l}=h();return r.jsx(i._,{ref:s,className:(0,o.cn)(a&&"text-destructive",e),htmlFor:l,...t})});p.displayName="FormLabel";let g=l.forwardRef(({...e},t)=>{let{error:s,formItemId:l,formDescriptionId:n,formMessageId:i}=h();return r.jsx(a.g7,{ref:t,id:l,"aria-describedby":s?`${n} ${i}`:`${n}`,"aria-invalid":!!s,...e})});g.displayName="FormControl";let f=l.forwardRef(({className:e,...t},s)=>{let{formDescriptionId:a}=h();return r.jsx("p",{ref:s,id:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})});f.displayName="FormDescription";let j=l.forwardRef(({className:e,children:t,...s},a)=>{let{error:l,formMessageId:n}=h(),i=l?String(l?.message):t;return i?r.jsx("p",{ref:a,id:n,className:(0,o.cn)("text-sm font-medium text-destructive",e),...s,children:i}):null});j.displayName="FormMessage"},33261:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});var r=s(10326),a=s(41959),l=s(17577),n=s(77863);let i=l.forwardRef(({className:e,...t},s)=>r.jsx(a.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:r.jsx(a.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));i.displayName=a.fC.displayName},75909:(e,t,s)=>{"use strict";s.d(t,{t:()=>l});var r=s(42270),a=s(39167);let l=()=>(0,a.aM)(r.uw,{variables:{limit:20}})},40900:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},47206:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},24081:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]])},65983:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},54014:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},42924:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},9015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},21986:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("MessageCirclePlus",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},23015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("PackageOpen",[["path",{d:"M20.91 8.84 8.56 2.23a1.93 1.93 0 0 0-1.81 0L3.1 4.13a2.12 2.12 0 0 0-.05 3.69l12.22 6.93a2 2 0 0 0 1.94 0L21 12.51a2.12 2.12 0 0 0-.09-3.67Z",key:"1vy178"}],["path",{d:"m3.09 8.84 12.35-6.61a1.93 1.93 0 0 1 1.81 0l3.65 1.9a2.12 2.12 0 0 1 .1 3.69L8.73 14.75a2 2 0 0 1-1.94 0L3 12.51a2.12 2.12 0 0 1 .09-3.67Z",key:"s3bv25"}],["line",{x1:"12",x2:"12",y1:"22",y2:"13",key:"1o4xyi"}],["path",{d:"M20 13.5v3.37a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13.5",key:"1na2nq"}]])},44389:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},31215:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},35157:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("XSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},31051:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});let r={CONTEXT_RETRIEVE:"CONTEXT_RETRIEVE",SOURCE_UPDATE:"SOURCE_UPDATE",EMBEDDER_UPSERT:"EMBEDDER_UPSERT",EMBEDDER_GENERATE:"EMBEDDER_GENERATE",EMBEDDER_DELETE:"EMBEDDER_DELETE",WORKFLOW_RUN:"WORKFLOW_RUN",CONTEXT_UPSERT:"CONTEXT_UPSERT",TOOL_CALL:"TOOL_CALL",AGENT_RUN:"AGENT_RUN"}},76738:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/data/[[...query]]/layout.tsx#default`)},21114:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/data/[[...query]]/page.tsx#default`)},41959:(e,t,s)=>{"use strict";s.d(t,{bU:()=>w,fC:()=>N});var r=s(17577),a=s(82561),l=s(48051),n=s(93095),i=s(52067),o=s(53405),d=s(2566),c=s(45226),u=s(10326),h="Switch",[x,m]=(0,n.b)(h),[p,g]=x(h),f=r.forwardRef((e,t)=>{let{__scopeSwitch:s,name:n,checked:o,defaultChecked:d,required:x,disabled:m,value:g="on",onCheckedChange:f,form:j,...v}=e,[N,w]=r.useState(null),k=(0,l.e)(t,e=>w(e)),C=r.useRef(!1),z=!N||j||!!N.closest("form"),[S,E]=(0,i.T)({prop:o,defaultProp:d??!1,onChange:f,caller:h});return(0,u.jsxs)(p,{scope:s,checked:S,disabled:m,children:[(0,u.jsx)(c.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":x,"data-state":b(S),"data-disabled":m?"":void 0,disabled:m,value:g,...v,ref:k,onClick:(0,a.M)(e.onClick,e=>{E(e=>!e),z&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),z&&(0,u.jsx)(y,{control:N,bubbles:!C.current,name:n,value:g,checked:S,required:x,disabled:m,form:j,style:{transform:"translateX(-100%)"}})]})});f.displayName=h;var j="SwitchThumb",v=r.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,a=g(j,s);return(0,u.jsx)(c.WV.span,{"data-state":b(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});v.displayName=j;var y=r.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:a=!0,...n},i)=>{let c=r.useRef(null),h=(0,l.e)(c,i),x=(0,o.D)(s),m=(0,d.t)(t);return r.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==s&&t){let r=new Event("click",{bubbles:a});t.call(e,s),e.dispatchEvent(r)}},[x,s,a]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:h,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var N=f,w=v}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,3543,9049,590,8679,931,6812,7344,1729,7141,2578,4552,6508,108,2194,2721,8181,770,7471,8206,4739,3217,4470,2270,6282,8050,466,6623],()=>s(57409));module.exports=r})();