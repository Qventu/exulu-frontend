(()=>{var e={};e.id=6208,e.ids=[6208],e.modules={57343:e=>{"use strict";e.exports=require("graphql")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},8678:e=>{"use strict";e.exports=import("pg")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},96539:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{GlobalError:()=>c.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>p,routeModule:()=>g,tree:()=>u}),t(48438);var l=t(71197);t(35866);var r=t(23191),n=t(88716),i=t(37922),c=t.n(i),o=t(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);var x=e([l]);l=(x.then?(await x)():x)[0];let u=["",{children:["(application)",{children:["evals",{children:["cases",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,48438)),"/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/evals/cases/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,71197)),"/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],p=["/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/evals/cases/page.tsx"],m="/(application)/evals/cases/page",h={require:t,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(application)/evals/cases/page",pathname:"/evals/cases",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}});a()}catch(e){a(e)}})},56129:(e,s,t)=>{Promise.resolve().then(t.bind(t,82886))},82886:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z,dynamic:()=>M});var a=t(10326),l=t(17577),r=t(76812),n=t(77863),i=t(90772),c=t(60097);function o({column:e,title:s,className:t}){return e.getCanSort()?a.jsx("div",{className:(0,n.cn)("flex items-center space-x-2",t),children:(0,a.jsxs)(c.h_,{children:[a.jsx(c.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[a.jsx("span",{children:s}),"desc"===e.getIsSorted()?a.jsx(r.veu,{className:"ml-2 h-4 w-4"}):"asc"===e.getIsSorted()?a.jsx(r.Hf3,{className:"ml-2 h-4 w-4"}):a.jsx(r.jnn,{className:"ml-2 h-4 w-4"})]})}),(0,a.jsxs)(c.AW,{align:"start",children:[(0,a.jsxs)(c.Xi,{onClick:()=>e.toggleSorting(!1),children:[a.jsx(r.Hf3,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),(0,a.jsxs)(c.Xi,{onClick:()=>e.toggleSorting(!0),children:[a.jsx(r.veu,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),a.jsx(c.VD,{}),(0,a.jsxs)(c.Xi,{onClick:()=>e.toggleVisibility(!1),children:[a.jsx(r.L52,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})}):a.jsx("div",{className:(0,n.cn)(t),children:s})}var d=t(18753),x=t(44389),u=t(98091),p=t(42270),m=t(34789),h=t(99440);function g({row:e,user:s,edit:t}){let{toast:n}=(0,m.pm)(),[o,g]=(0,l.useState)(!1),j=e.original,f=s.super_admin||s.role?.evals==="write",[v,{loading:N}]=(0,d.D)(p.lW,{onCompleted:()=>{n({title:"Test case deleted",description:"The test case has been successfully deleted."}),g(!1),window.location.reload()},onError:e=>{n({title:"Failed to delete test case",description:e.message,variant:"destructive"})}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.h_,{children:[a.jsx(c.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",onClick:e=>e.stopPropagation(),children:[a.jsx(r.nWS,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Open menu"})]})}),(0,a.jsxs)(c.AW,{align:"end",className:"w-[160px]",children:[(0,a.jsxs)(c.Xi,{onClick:e=>{e.stopPropagation(),t()},children:[a.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),f&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.VD,{}),(0,a.jsxs)(c.Xi,{onClick:e=>{e.stopPropagation(),g(!0)},className:"text-destructive",children:[a.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsx(h.aR,{open:o,onOpenChange:g,children:(0,a.jsxs)(h._T,{onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)(h.fY,{children:[a.jsx(h.f$,{children:"Are you sure?"}),(0,a.jsxs)(h.yT,{children:['This will permanently delete the test case "',j.name,'". This action cannot be undone.']})]}),(0,a.jsxs)(h.xo,{children:[a.jsx(h.le,{children:"Cancel"}),a.jsx(h.OL,{onClick:e=>{e.stopPropagation(),v({variables:{id:j.id}})},disabled:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:N?"Deleting...":"Delete"})]})]})})]})}var j=t(567),f=t(32663);let v=(e,s)=>[{accessorKey:"name",header:({column:e})=>a.jsx(o,{column:e,title:"Name"}),cell:({row:e})=>a.jsx("div",{className:"flex space-x-2",children:a.jsx("span",{className:"max-w-[400px] truncate font-medium",children:e.getValue("name")})})},{accessorKey:"description",header:({column:e})=>a.jsx(o,{column:e,title:"Description"}),cell:({row:e})=>{let s=e.getValue("description");return a.jsx("div",{className:"flex space-x-2",children:a.jsx("span",{className:"max-w-[300px] truncate text-muted-foreground",children:s||"—"})})}},{accessorKey:"inputs",header:({column:e})=>a.jsx(o,{column:e,title:"Messages"}),cell:({row:e})=>{let s=e.getValue("inputs");return(0,a.jsxs)(j.C,{variant:"secondary",children:[s?.length||0," messages"]})}},{accessorKey:"expected_tools",header:({column:e})=>a.jsx(o,{column:e,title:"Expected Tools"}),cell:({row:e})=>{let s=e.getValue("expected_tools");return s&&0!==s.length?(0,a.jsxs)(j.C,{variant:"outline",children:[s.length," tools"]}):a.jsx("span",{className:"text-muted-foreground",children:"—"})}},{accessorKey:"expected_knowledge_sources",header:({column:e})=>a.jsx(o,{column:e,title:"Expected Contexts"}),cell:({row:e})=>{let s=e.getValue("expected_knowledge_sources");return s&&0!==s.length?(0,a.jsxs)(j.C,{variant:"outline",children:[s.length," contexts"]}):a.jsx("span",{className:"text-muted-foreground",children:"—"})}},{accessorKey:"expected_agent_tools",header:({column:e})=>a.jsx(o,{column:e,title:"Expected Agents"}),cell:({row:e})=>{let s=e.getValue("expected_agent_tools");return s&&0!==s.length?(0,a.jsxs)(j.C,{variant:"outline",children:[s.length," agents"]}):a.jsx("span",{className:"text-muted-foreground",children:"—"})}},{accessorKey:"updatedAt",header:({column:e})=>a.jsx(o,{column:e,title:"Updated"}),cell:({row:e})=>{let s=e.getValue("updatedAt");return a.jsx("div",{className:"flex w-[100px] items-center",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:(0,f.Q)(new Date(s),{addSuffix:!0})})})}},{id:"actions",cell:({row:t})=>a.jsx(g,{row:t,user:e,edit:()=>{s(t.original)}})}];var N=t(39167),w=t(86508),y=t(11798),C=t(83855);function b({table:e}){return(0,a.jsxs)(c.h_,{children:[a.jsx(c.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[a.jsx(r.hsZ,{className:"mr-2 h-4 w-4"}),"View"]})}),(0,a.jsxs)(c.AW,{align:"end",className:"w-[150px]",children:[a.jsx(c.Ju,{children:"Toggle columns"}),a.jsx(c.VD,{}),e.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()).map(e=>a.jsx(c.bO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:s=>e.toggleVisibility(!!s),children:a.jsx("span",{className:"w-[200px] truncate",children:e.id})},e.id))]})]})}var k=t(54432),P=t(65304),_=t(15940),q=t(85060);function S({columns:e,testCase:s}){let{toast:t}=(0,m.pm)(),[n,c]=l.useState({}),[o,x]=l.useState({}),[u,h]=l.useState([]),[g,j]=(0,l.useState)([]),[f,v]=(0,l.useState)(1),[S,R]=l.useState([]),[V,T]=(0,l.useState)(!1),[F,D]=(0,l.useState)(s||null);l.useEffect(()=>{s?(D(s),T(!0)):(T(!1),D(null))},[s]);let{loading:M,error:z,data:A,refetch:E}=(0,N.aM)(p.RV,{fetchPolicy:"no-cache",nextFetchPolicy:"network-only",variables:{page:f,limit:10,filters:g},pollInterval:3e4}),[Z]=(0,d.D)(p.lW,{onCompleted:()=>{t({title:"Test case deleted",description:"The test case has been successfully deleted."}),E()},onError:e=>{t({title:"Failed to delete test case",description:e.message,variant:"destructive"})}}),G=A?.test_casesPagination?.pageInfo,H=A?.test_casesPagination?.items||[],X=(0,w.b7)({data:H,columns:e,state:{sorting:S,columnVisibility:o,rowSelection:n,columnFilters:u},enableRowSelection:!0,onRowSelectionChange:c,onSortingChange:R,onColumnFiltersChange:h,onColumnVisibilityChange:x,getCoreRowModel:(0,y.sC)(),getFilteredRowModel:(0,y.vL)(),getPaginationRowModel:(0,y.G_)(),getSortedRowModel:(0,y.tj)(),getFacetedRowModel:(0,y.o6)(),getFacetedUniqueValues:(0,y.JG)()});l.useEffect(()=>{let e=X.getColumn("name")?.getFilterValue();e?j([{name:{contains:e}}]):j([])},[X.getColumn("name")?.getFilterValue()]);let I=e=>{e?(D(e),T(!0)):(T(!1),D(null))},K=()=>{T(!1),D(null)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex flex-1 items-center space-x-2",children:a.jsx(k.I,{placeholder:"Filter by name...",value:X.getColumn("name")?.getFilterValue()??"",onChange:e=>X.getColumn("name")?.setFilterValue(e.target.value),className:"h-8 w-[150px] lg:w-[250px]"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(b,{table:X}),(0,a.jsxs)(i.z,{variant:"default",size:"sm",className:"ml-auto h-8",onClick:()=>T(!0),children:[a.jsx(C.Z,{className:"mr-2 h-4 w-4"}),"New Test Case"]})]})]}),a.jsx("div",{className:"rounded-md border",children:(0,a.jsxs)(_.iA,{children:[a.jsx(_.xD,{children:X.getHeaderGroups().map(e=>a.jsx(_.SC,{children:e.headers.map(e=>a.jsx(_.ss,{children:e.isPlaceholder?null:(0,w.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),a.jsx(_.RM,{children:M?Array.from({length:5}).map((s,t)=>a.jsx(_.SC,{children:e.map((e,s)=>a.jsx(_.pj,{children:a.jsx(P.O,{className:"h-6 w-full"})},s))},t)):X.getRowModel().rows?.length?X.getRowModel().rows.map(e=>a.jsx(_.SC,{"data-state":e.getIsSelected()&&"selected",className:"cursor-pointer",onClick:()=>{I(e.original)},children:e.getVisibleCells().map(e=>a.jsx(_.pj,{children:(0,w.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):a.jsx(_.SC,{children:a.jsx(_.pj,{colSpan:e.length,className:"h-24 text-center",children:"No test cases found."})})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-2",children:[a.jsx("div",{className:"flex-1 text-sm text-muted-foreground",children:G&&(0,a.jsxs)(a.Fragment,{children:["Page ",G.currentPage," of ",G.pageCount," (",G.itemCount," total)"]})}),a.jsx("div",{className:"flex items-center space-x-6 lg:space-x-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(i.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>v(1),disabled:!G?.hasPreviousPage,children:[a.jsx("span",{className:"sr-only",children:"Go to first page"}),a.jsx(r.kRt,{className:"h-4 w-4"})]}),(0,a.jsxs)(i.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(f-1),disabled:!G?.hasPreviousPage,children:[a.jsx("span",{className:"sr-only",children:"Go to previous page"}),a.jsx(r.wyc,{className:"h-4 w-4"})]}),(0,a.jsxs)(i.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(f+1),disabled:!G?.hasNextPage,children:[a.jsx("span",{className:"sr-only",children:"Go to next page"}),a.jsx(r.XCv,{className:"h-4 w-4"})]}),(0,a.jsxs)(i.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>v(G?.pageCount||1),disabled:!G?.hasNextPage,children:[a.jsx("span",{className:"sr-only",children:"Go to last page"}),a.jsx(r.yr4,{className:"h-4 w-4"})]})]})})]}),a.jsx(q.F,{open:V,onClose:K,onSuccess:()=>{E(),K()},testCase:F})]})}var R=t(15211),V=t(98360),T=t(86333),F=t(43273),D=t(35047);let M="force-dynamic";function z(){let{user:e}=(0,l.useContext)(R.S),[s,t]=(0,l.useState)(null),r=v(e,e=>{t(e)}),n=(0,D.useRouter)();return e.super_admin||e.role?.evals==="read"||e.role?.evals==="write"?a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"hidden h-full flex-1 flex-col space-y-8 p-8 md:flex",children:[a.jsx("div",{className:"flex items-center justify-between space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(i.z,{variant:"ghost",size:"icon",onClick:()=>n.push("/evals"),children:a.jsx(T.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Test Cases"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage test cases for evaluating agent performance."})]})]})}),a.jsx(S,{columns:r,testCase:s||void 0})]})}):a.jsx("div",{className:"flex h-full flex-1 flex-col space-y-8 p-8",children:(0,a.jsxs)(F.bZ,{variant:"destructive",children:[a.jsx(V.Z,{className:"h-4 w-4"}),a.jsx(F.X,{children:"You don't have permission to access Test Cases. Contact your administrator to request access."})]})})}},15940:(e,s,t)=>{"use strict";t.d(s,{RM:()=>c,Rn:()=>u,SC:()=>o,iA:()=>n,pj:()=>x,ss:()=>d,xD:()=>i});var a=t(10326),l=t(17577),r=t(77863);let n=l.forwardRef(({className:e,...s},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})}));n.displayName="Table";let i=l.forwardRef(({className:e,...s},t)=>a.jsx("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",e),...s}));i.displayName="TableHeader";let c=l.forwardRef(({className:e,...s},t)=>a.jsx("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s}));c.displayName="TableBody",l.forwardRef(({className:e,...s},t)=>a.jsx("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let o=l.forwardRef(({className:e,...s},t)=>a.jsx("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));o.displayName="TableRow";let d=l.forwardRef(({className:e,...s},t)=>a.jsx("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&:has([role=checkbox])]:w-[40px]",e),...s}));d.displayName="TableHead";let x=l.forwardRef(({className:e,...s},t)=>a.jsx("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&:has([role=checkbox])]:w-[40px]",e),...s}));x.displayName="TableCell";let u=l.forwardRef(({className:e,...s},t)=>a.jsx("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...s}));u.displayName="TableCaption"},44389:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},98091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},48438:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r,dynamic:()=>l});var a=t(68570);let l=(0,a.createProxy)(String.raw`/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/evals/cases/page.tsx#dynamic`),r=(0,a.createProxy)(String.raw`/Users/daniel.claessen/Desktop/Projects/exulu/frontend/app/(application)/evals/cases/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,3543,9049,590,8679,931,6812,7344,1729,2578,4552,6508,108,2194,2721,2663,6226,7721,3217,4470,2270,6282,8050,3503,2916],()=>t(96539));module.exports=a})();